import{$ as u}from"./get-IZFZkHlF.js";import{u as h}from"./uniqueId-Bqzl4fNd.js";let r,i;const v=(f,l)=>{const a=u(f),p=h(),s={unobserve:()=>{a.each((t,e)=>{const o=r.get(e),n=o.coArr.findIndex(c=>c.key===p);n!==-1&&o.coArr.splice(n,1),o.coArr.length?r.set(e,o):(i.unobserve(e),r.delete(e))})}};return r||(r=new WeakMap,i=new ResizeObserver(t=>{t.forEach(e=>{const o=e.target,n=r.get(o);n.entry=e,n.coArr.forEach(c=>{c.callback.call(s,e,s)})})})),a.each((t,e)=>{const o=r.get(e)??{coArr:[]};o.coArr.length&&o.entry&&l.call(s,o.entry,s),o.coArr.push({callback:l,key:p}),r.set(e,o),i.observe(e)}),s};export{v as o};
