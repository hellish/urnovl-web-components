import{k as h}from"./entry-preview-BcHUnPw7.js";import{s as S,g as u}from"./chunk-L4EGOTBX-2Jzo53v8.js";import{d as x,H as w,c as p,h as s}from"./index-DddAbXmr.js";import"./ur-button-Cj914QN4.js";import"./index-DrFu-skq.js";import"./index-B-mBYDoO.js";import"./class-map-CDMw4-pN.js";import"./get-7S0C3xNv.js";import"./template-yncBVCyc.js";import"./index-BriiHZyV.js";import"./button-base-CWeRpzKK.js";import"./if-defined-CL77Dv0Z.js";import"./anchor--mD29Q5y.js";import"./form-B80GgqR6.js";import"./index-DsS9OQyQ.js";const P=":host{--sheet-background:#ffffff;--sheet-border-radius:8px 8px 0 0;--backdrop-color:rgba(0, 0, 0, 0.5);--transition-duration:0.3s;--ur-color-surface:var(--mdui-color-surface);--ur-color-on-surface:var(--mdui-color-on-surface);--ur-color-outline:var(--mdui-color-outline)}:host .bottom-sheet-backdrop{position:fixed;inset:0;background-color:rgba(var(--mdui-color-on-surface), 0.3);opacity:0;visibility:hidden;transition:all var(--transition-duration) ease;z-index:1000}:host .bottom-sheet-backdrop.is-visible{opacity:1;visibility:visible}:host .bottom-sheet{position:fixed;left:0;right:0;bottom:0;color:rgb(var(--ur-color-on-surface));background-color:rgb(var(--ur-color-surface));border-radius:var(--sheet-border-radius);transform:translateY(100%);transition:transform var(--transition-duration) ease;z-index:1001;overflow:hidden;display:flex;flex-direction:column}:host .bottom-sheet.is-visible{transform:translateY(0)}:host .bottom-sheet.detent-large{height:90vh}:host .bottom-sheet.detent-medium{height:50vh}:host .bottom-sheet.detent-small{height:25vh}:host .sheet-header{padding:12px 24px;border-bottom:1px solid rgb(var(--ur-color-outline));user-select:none}:host .sheet-handle{cursor:grab;height:6px;width:80px;background-color:rgb(var(--ur-color-outline));border-radius:4px;margin:4px auto}:host .sheet-content{flex:1;overflow-y:auto;padding:16px;min-height:0}:host .sheet-footer{padding:16px;border-top:1px solid rgb(var(--ur-color-outline))}",C=class extends w{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.dismiss=p(this,"dismiss",7),this.detentChange=p(this,"detentChange",7),this.initialY=0,this.dragStartTime=0,this.isDragging=!1,this.open=!1,this.selectedDetent="large",this.backdropDismiss=!0,this.currentDetent="large",this.dragPosition=0,this.isVisible=!1,this.handlePointerDown=e=>{const o=e.target;this.headerElement.contains(o)&&(this.initialY="touches"in e?e.touches[0].clientY:e.clientY,this.dragStartTime=Date.now(),this.isDragging=!0,this.sheetElement.style.transition="none",document.addEventListener("mousemove",this.handlePointerMove),document.addEventListener("mouseup",this.handlePointerUp),document.addEventListener("touchmove",this.handlePointerMove,{passive:!0}),document.addEventListener("touchend",this.handlePointerUp))},this.handlePointerMove=e=>{if(!this.isDragging)return;const r=("touches"in e?e.touches[0].clientY:e.clientY)-this.initialY;r<0||(this.dragPosition=r,this.sheetElement.style.transform=`translateY(${r}px)`)},this.handlePointerUp=()=>{if(!this.isDragging)return;this.isDragging=!1;const e=Date.now()-this.dragStartTime,o=Math.abs(this.dragPosition/e);this.dragPosition>200||this.dragPosition>100&&o>.5?this.dismiss.emit():this.snapToNearestDetent(),this.dragPosition=0,document.removeEventListener("mousemove",this.handlePointerMove),document.removeEventListener("mouseup",this.handlePointerUp),document.removeEventListener("touchmove",this.handlePointerMove),document.removeEventListener("touchend",this.handlePointerUp)},this.handleBackdropClick=()=>{this.backdropDismiss&&this.dismiss.emit()}}watchOpen(e){e?this.showSheet():this.hideSheet()}async showSheet(){this.isVisible=!0,this.currentDetent=this.selectedDetent,document.body.style.overflow="hidden",this.sheetElement&&(this.sheetElement.style.transform="")}async hideSheet(){if(this.sheetElement){this.sheetElement.style.transition="transform var(--transition-duration) ease",this.sheetElement.style.transform="translateY(100%)";const e=this.el.shadowRoot.querySelector(".bottom-sheet-backdrop");e&&(e.style.opacity="0"),setTimeout(()=>{this.isVisible=!1,document.body.style.overflow="",this.sheetElement.style.transform="",this.sheetElement.style.transition="",e&&(e.style.opacity="")},300)}else this.isVisible=!1,document.body.style.overflow=""}snapToNearestDetent(){this.currentDetent=this.selectedDetent,this.detentChange.emit(this.selectedDetent),this.sheetElement.style.transition="transform var(--transition-duration) ease",this.sheetElement.style.transform=""}render(){const e={"bottom-sheet":!0,"is-visible":this.isVisible,[`detent-${this.currentDetent}`]:!0},o={"bottom-sheet-backdrop":!0,"is-visible":this.isVisible},r=i=>{i.stopPropagation()};return s("div",{key:"f3cefc27297121121a06547a8ac57275886eee39",class:o,onClick:this.handleBackdropClick,"aria-hidden":!this.isVisible},s("div",{key:"5a04c3ff27822cb456f9a9cb0117ee475482ed2c",class:e,ref:i=>this.sheetElement=i,onClick:r},s("div",{key:"dec0dbbffc8755edfe6150880fc5d1fbf3ad3be7",class:"sheet-header",ref:i=>this.headerElement=i,onMouseDown:this.handlePointerDown,onTouchStart:this.handlePointerDown,role:"banner"},s("div",{key:"06063d23d3209583060e3b37ab4fda30c8a59ee6",class:"sheet-handle"}),s("slot",{key:"c2fb0e61ab0c061381e307f54442f137e2da0bc8",name:"header"})),s("div",{key:"abee5aef36386da545349556b15a2c61cddaa98d",class:"sheet-content",role:"main"},s("slot",{key:"4bbf0d924ccf70ebf7362ce161cc7dcda128287c"})),s("div",{key:"f2c971e377f8e413dc5a4fcd62dd5f9ea6439642",class:"sheet-footer",role:"contentinfo"},s("slot",{key:"ff0ccb88ef585a5d0c5c81dd0eccb08aaf08762f",name:"footer"}))))}get el(){return this}static get watchers(){return{open:["watchOpen"]}}static get style(){return P}};x(C,[1,"ur-bottom-sheet",{open:[4],selectedDetent:[1,"selected-detent"],backdropDismiss:[4,"backdrop-dismiss"],currentDetent:[32],dragPosition:[32],isVisible:[32],showSheet:[64],hideSheet:[64]},void 0,{open:["watchOpen"]}]);const b={schemaVersion:"1.0.0",modules:[{kind:"javascript-module",path:"",declarations:[{kind:"class",name:"UrBottomSheet",tagName:"ur-bottom-sheet",customElement:!0,members:[{kind:"field",name:"open",type:"boolean",description:"",default:"false"},{kind:"field",name:"selectedDetent",type:"string",description:"",default:"'large'"},{kind:"field",name:"backdropDismiss",type:"boolean",description:"",default:"true"}],events:[{kind:"event",name:"dismiss",description:""},{kind:"event",name:"detentChange",description:""}]}],exports:[{kind:"js",name:"UrBottomSheet",declaration:{name:"UrBottomSheet",module:"src/components/ur-bottom-sheet/ur-bottom-sheet.tsx"}},{kind:"custom-element-definition",name:"ur-bottom-sheet",declaration:{name:"UrBottomSheet",module:"src/components/ur-bottom-sheet/ur-bottom-sheet.tsx"}}]}]};S({...u()||{},...b,modules:[...(u()||{}).modules||[],...b.modules]});const B=()=>h`
    <div slot="header">
        <h3 style="margin: 0">Bottom Sheet</h3>
    </div>
    <div style="padding: 8px">
        <p>This is the content of the bottom sheet.</p>
        <p>Try dragging the header to move the sheet.</p>
        ${Array(5).fill(0).map(()=>h`
            <p>Additional content paragraph.</p>
            <p>Additional content paragraph.</p>
            <p>Additional content paragraph.</p>
            <p>Additional content paragraph.</p>
            <p>Additional content paragraph.</p>
            <p>Additional content paragraph.</p>
            <p>Additional content paragraph.</p>
        `)}
    </div>
    <div slot="footer">
        <ur-button
            class="close-sheet-button"
            @click=${()=>{const e=document.querySelector("ur-bottom-sheet");e==null||e.dispatchEvent(new CustomEvent("dismiss"))}}
        >Close</ur-button>
    </div>
`,Y=({open:e=!1,selectedDetent:o="large",backdropDismiss:r=!0})=>{const i=`sheet-${Math.random().toString(36).slice(2,9)}`,c=`btn-${Math.random().toString(36).slice(2,9)}`;return setTimeout(()=>{var l,m;const t=document.getElementById(i),d=document.getElementById(c);d==null||d.addEventListener("click",()=>{t==null||t.setAttribute("open","true")}),(m=(l=t==null?void 0:t.shadowRoot)==null?void 0:l.querySelector(".close-sheet-button"))==null||m.addEventListener("click",()=>{t.setAttribute("open","false")}),t==null||t.addEventListener("dismiss",()=>{t.setAttribute("open","false")})},0),h`
        <div style="padding: 20px">
            <ur-button id=${c}>Open Sheet</ur-button>
            
            <ur-bottom-sheet
                id=${i}
                open=${e}
                selected-detent=${o}
                backdrop-dismiss=${r}
            >
                ${B()}
            </ur-bottom-sheet>
        </div>
    `},R={title:"Core/Bottom Sheet",argTypes:{open:{control:"boolean"},selectedDetent:{control:{type:"select",options:["large","medium","small"]}},backdropDismiss:{control:"boolean"}}},E=e=>Y(e),n=E.bind({});n.args={open:!1,selectedDetent:"large",backdropDismiss:!0};const a=E.bind({});a.args={open:!1,selectedDetent:"medium",backdropDismiss:!0};var f,g,v;n.parameters={...n.parameters,docs:{...(f=n.parameters)==null?void 0:f.docs,source:{originalSource:"args => BottomSheet(args)",...(v=(g=n.parameters)==null?void 0:g.docs)==null?void 0:v.source}}};var y,k,D;a.parameters={...a.parameters,docs:{...(y=a.parameters)==null?void 0:y.docs,source:{originalSource:"args => BottomSheet(args)",...(D=(k=a.parameters)==null?void 0:k.docs)==null?void 0:D.source}}};const F=["Default","Medium"];export{n as Default,a as Medium,F as __namedExportsOrder,R as default};
