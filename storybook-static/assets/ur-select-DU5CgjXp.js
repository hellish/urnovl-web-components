import{s as ce,g as J}from"./chunk-L4EGOTBX-2Jzo53v8.js";import{i as P,k as c,D as he,h as pe}from"./entry-preview-BcHUnPw7.js";import{d as me,H as fe,c as ge,h as $,a as be}from"./index-HG5WCs1g.js";import{k as F,_ as n,n as r,M as V,D as B,b as H,$ as m,d as b,c as M,J as ve,x as ye,a as ie,f as Y,H as se}from"./get-16ZjOD6f.js";import{i as I,K as k,r as S}from"./class-map-c_lXebLN.js";import{o as q}from"./query-assigned-elements-BInJlOXT.js";import{t as L}from"./if-defined-CL77Dv0Z.js";import{a as G,o as _}from"./array-BxBpEZy1.js";import{n as ne}from"./when-BxLAFfhK.js";import{F as we,f as Q}from"./form-DYv8CV48.js";import{d as ke}from"./default-value-Cjt0J7Mq.js";import{o as oe}from"./observeResize-BFEvAm6p.js";import{F as le,R as Ce}from"./ripple-mixin-CQ5hE0DF.js";import"./index-CKf_iOkS.js";import{w as v}from"./watch-ByvFYHv8.js";import{g as R,a as K,s as z,b as x}from"./motion-vT-sjHCv.js";import{m as xe,c as Se}from"./index-BxWH4IIK.js";import"./index-CFhNLdH0.js";import{A as Ee,c as $e}from"./anchor-DFAJu5AH.js";import{n as Z}from"./template-yncBVCyc.js";import{u as Ie}from"./uniqueId-Bqzl4fNd.js";import{s as Oe,a as De}from"./svg-tag-Bx7YH7wk.js";import"./check-CeipmVHa.js";function re(s){return ae(s)?(s.nodeName||"").toLowerCase():"#document"}function A(s){var e;return(s==null||(e=s.ownerDocument)==null?void 0:e.defaultView)||window}function Re(s){var e;return(e=(ae(s)?s.ownerDocument:s.document)||window.document)==null?void 0:e.documentElement}function ae(s){return s instanceof Node||s instanceof A(s).Node}function Te(s){return s instanceof HTMLElement||s instanceof A(s).HTMLElement}function ee(s){return typeof ShadowRoot>"u"?!1:s instanceof ShadowRoot||s instanceof A(s).ShadowRoot}function de(s){const{overflow:e,overflowX:t,overflowY:i,display:o}=Ae(s);return/auto|scroll|overlay|hidden|clip/.test(e+i+t)&&!["inline","contents"].includes(o)}function Me(s){return["html","body","#document"].includes(re(s))}function Ae(s){return A(s).getComputedStyle(s)}function Le(s){if(re(s)==="html")return s;const e=s.assignedSlot||s.parentNode||ee(s)&&s.host||Re(s);return ee(e)?e.host:e}function ue(s){const e=Le(s);return Me(e)?s.ownerDocument?s.ownerDocument.body:s.body:Te(e)&&de(e)?e:ue(e)}function W(s,e,t){var i;e===void 0&&(e=[]),t===void 0&&(t=!0);const o=ue(s),a=o===((i=s.ownerDocument)==null?void 0:i.body),l=A(o);if(a){const d=Ke(l);return e.concat(l,l.visualViewport||[],de(o)?o:[],d&&t?W(d):[])}return e.concat(o,W(o,[],t))}function Ke(s){return s.parent&&Object.getPrototypeOf(s.parent)?s.frameElement:null}const ze=P`:host{--z-index:2100;display:contents}.panel{display:block;position:fixed;z-index:var(--z-index)}`;let f=class extends V{constructor(){super(),this.open=!1,this.disabled=!1,this.trigger="click",this.placement="auto",this.stayOpenOnClick=!1,this.openDelay=150,this.closeDelay=150,this.openOnPointer=!1,this.panelRef=I(),this.definedController=new B(this,{relatedElements:[""]}),this.onDocumentClick=this.onDocumentClick.bind(this),this.onDocumentKeydown=this.onDocumentKeydown.bind(this),this.onWindowScroll=this.onWindowScroll.bind(this),this.onMouseLeave=this.onMouseLeave.bind(this),this.onFocus=this.onFocus.bind(this),this.onClick=this.onClick.bind(this),this.onContextMenu=this.onContextMenu.bind(this),this.onMouseEnter=this.onMouseEnter.bind(this),this.onPanelClick=this.onPanelClick.bind(this)}get triggerElement(){return this.triggerElements[0]}async onPositionChange(){this.open&&(await this.definedController.whenDefined(),this.updatePositioner())}async onOpenChange(){var a,l;const e=this.hasUpdated;if(!this.open&&!e)return;await this.definedController.whenDefined(),e||await this.updateComplete;const t=R(this,"linear"),i=R(this,"emphasized-decelerate"),o=R(this,"emphasized-accelerate");if(this.open){if(e&&!this.emit("open",{cancelable:!0}))return;const d=this.panelElements.find(E=>H(E.focus));setTimeout(()=>{d==null||d.focus()});const h=K(this,"medium4");await z(this.panelRef.value),this.panelRef.value.hidden=!1,this.updatePositioner(),await Promise.all([x(this.panelRef.value,[{transform:`${this.getCssScaleName()}(0.45)`},{transform:`${this.getCssScaleName()}(1)`}],{duration:e?h:0,easing:i}),x(this.panelRef.value,[{opacity:0},{opacity:1,offset:.125},{opacity:1}],{duration:e?h:0,easing:t})]),e&&this.emit("opened")}else{if(!this.emit("close",{cancelable:!0}))return;!this.hasTrigger("focus")&&H((a=this.triggerElement)==null?void 0:a.focus)&&(this.contains(document.activeElement)||this.contains(((l=document.activeElement)==null?void 0:l.assignedSlot)??null))&&this.triggerElement.focus();const h=K(this,"short4");await z(this.panelRef.value),await Promise.all([x(this.panelRef.value,[{transform:`${this.getCssScaleName()}(1)`},{transform:`${this.getCssScaleName()}(0.45)`}],{duration:h,easing:o}),x(this.panelRef.value,[{opacity:1},{opacity:1,offset:.875},{opacity:0}],{duration:h,easing:t})]),this.panelRef.value&&(this.panelRef.value.hidden=!0),this.emit("closed")}}connectedCallback(){super.connectedCallback(),this.definedController.whenDefined().then(()=>{document.addEventListener("pointerdown",this.onDocumentClick),document.addEventListener("keydown",this.onDocumentKeydown),this.overflowAncestors=W(this.triggerElement),this.overflowAncestors.forEach(e=>{e.addEventListener("scroll",this.onWindowScroll)}),this.observeResize=oe(this.triggerElement,()=>{this.updatePositioner()})})}disconnectedCallback(){var e,t;!this.open&&this.panelRef.value&&(this.panelRef.value.hidden=!0),super.disconnectedCallback(),document.removeEventListener("pointerdown",this.onDocumentClick),document.removeEventListener("keydown",this.onDocumentKeydown),(e=this.overflowAncestors)==null||e.forEach(i=>{i.removeEventListener("scroll",this.onWindowScroll)}),(t=this.observeResize)==null||t.unobserve()}firstUpdated(e){super.firstUpdated(e),this.addEventListener("mouseleave",this.onMouseLeave),this.definedController.whenDefined().then(()=>{this.triggerElement.addEventListener("focus",this.onFocus),this.triggerElement.addEventListener("click",this.onClick),this.triggerElement.addEventListener("contextmenu",this.onContextMenu),this.triggerElement.addEventListener("mouseenter",this.onMouseEnter)})}render(){return c`<slot name="trigger" part="trigger" class="trigger"></slot><slot ${k(this.panelRef)} part="panel" class="panel" hidden @click="${this.onPanelClick}"></slot>`}getCssScaleName(){return this.animateDirection==="horizontal"?"scaleX":"scaleY"}onDocumentClick(e){if(this.disabled||!this.open)return;const t=e.composedPath();t.includes(this)||(this.open=!1),this.hasTrigger("contextmenu")&&!this.hasTrigger("click")&&t.includes(this.triggerElement)&&(this.open=!1)}onDocumentKeydown(e){var t;if(!(this.disabled||!this.open)){if(e.key==="Escape"){this.open=!1;return}e.key==="Tab"&&(!this.hasTrigger("focus")&&H((t=this.triggerElement)==null?void 0:t.focus)&&e.preventDefault(),this.open=!1)}}onWindowScroll(){window.requestAnimationFrame(()=>this.onPositionChange())}hasTrigger(e){return this.trigger.split(" ").includes(e)}onFocus(){this.disabled||this.open||!this.hasTrigger("focus")||(this.open=!0)}onClick(e){this.disabled||e.button||!this.hasTrigger("click")||this.open&&(this.hasTrigger("hover")||this.hasTrigger("focus"))||(this.pointerOffsetX=e.offsetX,this.pointerOffsetY=e.offsetY,this.open=!this.open)}onPanelClick(e){!this.disabled&&!this.stayOpenOnClick&&m(e.target).is("mdui-menu-item")&&(this.open=!1)}onContextMenu(e){this.disabled||!this.hasTrigger("contextmenu")||(e.preventDefault(),this.pointerOffsetX=e.offsetX,this.pointerOffsetY=e.offsetY,this.open=!0)}onMouseEnter(){this.disabled||!this.hasTrigger("hover")||(window.clearTimeout(this.closeTimeout),this.openDelay?this.openTimeout=window.setTimeout(()=>{this.open=!0},this.openDelay):this.open=!0)}onMouseLeave(){this.disabled||!this.hasTrigger("hover")||(window.clearTimeout(this.openTimeout),this.closeTimeout=window.setTimeout(()=>{this.open=!1},this.closeDelay||50))}updatePositioner(){const e=m(this.panelRef.value),t=m(window),i=this.panelElements,o={width:Math.max(...(i==null?void 0:i.map(w=>w.offsetWidth))??[]),height:i==null?void 0:i.map(w=>w.offsetHeight).reduce((w,T)=>w+T,0)},a=this.triggerElement.getBoundingClientRect(),l=this.openOnPointer?{top:this.pointerOffsetY+a.top,left:this.pointerOffsetX+a.left,width:0,height:0}:a,d=8;let h,E,O,D,U=this.placement;if(U==="auto"){const w=t.width(),T=t.height();let C,y;T-l.top-l.height>o.height+d?C="bottom":l.top>o.height+d?C="top":w-l.left-l.width>o.width+d?C="right":l.left>o.width+d?C="left":C="bottom",["top","bottom"].includes(C)?w-l.left>o.width+d?y="start":l.left+l.width/2>o.width/2+d&&w-l.left-l.width/2>o.width/2+d?y=void 0:l.left+l.width>o.width+d?y="end":y="start":T-l.top>o.height+d?y="start":l.top+l.height/2>o.height/2+d&&T-l.top-l.height/2>o.height/2+d?y=void 0:l.top+l.height>o.height+d?y="end":y="start",U=y?[C,y].join("-"):C}const[N,j]=U.split("-");switch(this.animateDirection=["top","bottom"].includes(N)?"vertical":"horizontal",N){case"top":E="bottom",O=l.top-o.height;break;case"bottom":E="top",O=l.top+l.height;break;default:switch(E="center",j){case"start":O=l.top;break;case"end":O=l.top+l.height-o.height;break;default:O=l.top+l.height/2-o.height/2;break}break}switch(N){case"left":h="right",D=l.left-o.width;break;case"right":h="left",D=l.left+l.width;break;default:switch(h="center",j){case"start":D=l.left;break;case"end":D=l.left+l.width-o.width;break;default:D=l.left+l.width/2-o.width/2;break}break}e.css({top:O,left:D,transformOrigin:[h,E].join(" ")})}};f.styles=[F,ze];n([r({type:Boolean,reflect:!0,converter:b})],f.prototype,"open",void 0);n([r({type:Boolean,reflect:!0,converter:b})],f.prototype,"disabled",void 0);n([r({reflect:!0})],f.prototype,"trigger",void 0);n([r({reflect:!0})],f.prototype,"placement",void 0);n([r({type:Boolean,reflect:!0,converter:b,attribute:"stay-open-on-click"})],f.prototype,"stayOpenOnClick",void 0);n([r({type:Number,reflect:!0,attribute:"open-delay"})],f.prototype,"openDelay",void 0);n([r({type:Number,reflect:!0,attribute:"close-delay"})],f.prototype,"closeDelay",void 0);n([r({type:Boolean,reflect:!0,converter:b,attribute:"open-on-pointer"})],f.prototype,"openOnPointer",void 0);n([q({slot:"trigger",flatten:!0})],f.prototype,"triggerElements",void 0);n([q({flatten:!0})],f.prototype,"panelElements",void 0);n([v("placement",!0),v("openOnPointer",!0)],f.prototype,"onPositionChange",null);n([v("open")],f.prototype,"onOpenChange",null);f=n([M("mdui-dropdown")],f);m.fn.add=function(s){return new ve(ye(xe(this.get(),m(s).get())))};const Pe=(s=0)=>new Promise(e=>setTimeout(e,s)),Fe=P`:host{--shape-corner:var(--mdui-shape-corner-extra-small);position:relative;display:block;border-radius:var(--shape-corner);background-color:rgb(var(--mdui-color-surface-container));box-shadow:var(--mdui-elevation-level2);min-width:7rem;max-width:17.5rem;padding-top:.5rem;padding-bottom:.5rem;--mdui-comp-ripple-state-layer-color:var(--mdui-color-on-surface)}::slotted(mdui-divider){margin-top:.5rem;margin-bottom:.5rem}`;let g=class extends V{constructor(){super(...arguments),this.dense=!1,this.submenuTrigger="click hover",this.submenuOpenDelay=200,this.submenuCloseDelay=200,this.selectedKeys=[],this.isInitial=!0,this.lastActiveItems=[],this.definedController=new B(this,{relatedElements:["mdui-menu-item"]})}get items(){return m(this.childrenItems).find("mdui-menu-item").add(this.childrenItems).get()}get itemsEnabled(){return this.items.filter(e=>!e.disabled)}get isSingle(){return this.selects==="single"}get isMultiple(){return this.selects==="multiple"}get isSelectable(){return this.isSingle||this.isMultiple}get isSubmenu(){return!m(this).parent().length}get lastActiveItem(){const e=this.lastActiveItems.length?this.lastActiveItems.length-1:0;return this.lastActiveItems[e]}set lastActiveItem(e){const t=this.lastActiveItems.length?this.lastActiveItems.length-1:0;this.lastActiveItems[t]=e}async onSlotChange(){await this.definedController.whenDefined(),this.items.forEach(e=>{e.dense=this.dense,e.selects=this.selects,e.submenuTrigger=this.submenuTrigger,e.submenuOpenDelay=this.submenuOpenDelay,e.submenuCloseDelay=this.submenuCloseDelay})}async onSelectsChange(){this.isSelectable?this.isSingle&&this.setSelectedKeys(this.selectedKeys.slice(0,1)):this.setSelectedKeys([]),await this.onSelectedKeysChange()}async onSelectedKeysChange(){await this.definedController.whenDefined();const e=this.itemsEnabled.filter(i=>this.selectedKeys.includes(i.key)).map(i=>i.value),t=this.isMultiple?e:e[0]||void 0;this.setValue(t),this.isInitial||this.emit("change")}async onValueChange(){if(this.isInitial=!this.hasUpdated,await this.definedController.whenDefined(),!this.isSelectable){this.updateSelected();return}const e=(this.isSingle?[this.value]:ie(this.value)?[this.value]:this.value).filter(t=>t);if(!e.length)this.setSelectedKeys([]);else if(this.isSingle){const t=this.itemsEnabled.find(i=>i.value===e[0]);this.setSelectedKeys(t?[t.key]:[])}else this.isMultiple&&this.setSelectedKeys(this.itemsEnabled.filter(t=>e.includes(t.value)).map(t=>t.key));this.updateSelected(),this.updateFocusable()}focus(e){this.lastActiveItem&&this.focusOne(this.lastActiveItem,e)}blur(){this.lastActiveItem&&this.lastActiveItem.blur()}firstUpdated(e){super.firstUpdated(e),this.definedController.whenDefined().then(()=>{this.updateFocusable(),this.lastActiveItem=this.items.find(t=>t.focusable)}),this.addEventListener("submenu-open",t=>{const i=m(t.target),o=i.children("mdui-menu-item:not([disabled])").get(),a=i.parents("mdui-menu-item").length+1;o.length&&(this.lastActiveItems[a]=o[0],this.updateFocusable(),this.focusOne(this.lastActiveItems[a]))}),this.addEventListener("submenu-close",t=>{const o=m(t.target).parents("mdui-menu-item").length+1;this.lastActiveItems.length-1===o&&(this.lastActiveItems.pop(),this.updateFocusable(),this.lastActiveItems[o-1]&&this.focusOne(this.lastActiveItems[o-1]))})}render(){return c`<slot @slotchange="${this.onSlotChange}" @click="${this.onClick}" @keydown="${this.onKeyDown}"></slot>`}setSelectedKeys(e){G(this.selectedKeys,e)||(this.selectedKeys=e)}setValue(e){this.isSingle||Y(this.value)||Y(e)?this.value=e:G(this.value,e)||(this.value=e)}getSiblingsItems(e,t=!1){return m(e).parent().children(`mdui-menu-item${t?":not([disabled])":""}`).get()}updateFocusable(){if(this.lastActiveItem){this.items.forEach(e=>{e.focusable=e.key===this.lastActiveItem.key});return}if(!this.selectedKeys.length){this.itemsEnabled.forEach((e,t)=>{e.focusable=!t});return}if(this.isSingle){this.items.forEach(e=>{e.focusable=this.selectedKeys.includes(e.key)});return}if(this.isMultiple){const e=this.items.find(t=>t.focusable);(!(e!=null&&e.key)||!this.selectedKeys.includes(e.key))&&this.itemsEnabled.filter(t=>this.selectedKeys.includes(t.key)).forEach((t,i)=>t.focusable=!i)}}updateSelected(){this.items.forEach(e=>{e.selected=this.selectedKeys.includes(e.key)})}selectOne(e){if(this.isMultiple){const t=[...this.selectedKeys];t.includes(e.key)?t.splice(t.indexOf(e.key),1):t.push(e.key),this.setSelectedKeys(t)}this.isSingle&&(this.selectedKeys.includes(e.key)?this.setSelectedKeys([]):this.setSelectedKeys([e.key])),this.isInitial=!1,this.updateSelected()}async focusableOne(e){this.items.forEach(t=>t.focusable=t.key===e.key),await Pe()}focusOne(e,t){e.focus(t)}async onClick(e){if(!this.definedController.isDefined()||this.isSubmenu||e.button)return;const i=e.target.closest("mdui-menu-item");!i||i.disabled||(this.lastActiveItem=i,this.isSelectable&&i.value&&this.selectOne(i),await this.focusableOne(i),this.focusOne(i))}async onKeyDown(e){if(!this.definedController.isDefined()||this.isSubmenu)return;const t=e.target;if(e.key==="Enter"&&(e.preventDefault(),t.click()),e.key===" "&&(e.preventDefault(),this.isSelectable&&t.value&&(this.selectOne(t),await this.focusableOne(t),this.focusOne(t))),["ArrowUp","ArrowDown","Home","End"].includes(e.key)){const i=this.getSiblingsItems(t,!0),o=i.find(l=>l.focusable);let a=o?i.indexOf(o):0;if(i.length>0){e.preventDefault(),e.key==="ArrowDown"?a++:e.key==="ArrowUp"?a--:e.key==="Home"?a=0:e.key==="End"&&(a=i.length-1),a<0&&(a=i.length-1),a>i.length-1&&(a=0),this.lastActiveItem=i[a],await this.focusableOne(i[a]),this.focusOne(i[a]);return}}}};g.styles=[F,Fe];n([r({reflect:!0})],g.prototype,"selects",void 0);n([r()],g.prototype,"value",void 0);n([r({type:Boolean,reflect:!0,converter:b})],g.prototype,"dense",void 0);n([r({reflect:!0,attribute:"submenu-trigger"})],g.prototype,"submenuTrigger",void 0);n([r({type:Number,reflect:!0,attribute:"submenu-open-delay"})],g.prototype,"submenuOpenDelay",void 0);n([r({type:Number,reflect:!0,attribute:"submenu-close-delay"})],g.prototype,"submenuCloseDelay",void 0);n([S()],g.prototype,"selectedKeys",void 0);n([q({flatten:!0,selector:"mdui-menu-item"})],g.prototype,"childrenItems",void 0);n([v("dense"),v("selects"),v("submenuTrigger"),v("submenuOpenDelay"),v("submenuCloseDelay")],g.prototype,"onSlotChange",null);n([v("selects",!0)],g.prototype,"onSelectsChange",null);n([v("selectedKeys",!0)],g.prototype,"onSelectedKeysChange",null);n([v("value")],g.prototype,"onValueChange",null);g=n([M("mdui-menu")],g);const Ve=P`:host{display:inline-block;width:100%}.hidden-input{display:none}.text-field{cursor:pointer}.chips{display:flex;flex-wrap:wrap;margin:-.5rem -.25rem;min-height:2.5rem}:host([variant=filled][label]) .chips{margin:0 -.25rem -1rem -.25rem}.chip{margin:.25rem}mdui-menu{max-width:none}`;let u=class extends le(V){constructor(){super(...arguments),this.variant="filled",this.multiple=!1,this.name="",this.value="",this.defaultValue="",this.clearable=!1,this.placement="auto",this.endAligned=!1,this.readonly=!1,this.disabled=!1,this.required=!1,this.invalid=!1,this.menuRef=I(),this.textFieldRef=I(),this.hiddenInputRef=I(),this.formController=new we(this),this.hasSlotController=new se(this,"icon","end-icon","error-icon","prefix","suffix","clear-button","clear-icon","helper"),this.definedController=new B(this,{relatedElements:["mdui-menu-item"]})}get validity(){return this.hiddenInputRef.value.validity}get validationMessage(){return this.hiddenInputRef.value.validationMessage}get focusElement(){return this.textFieldRef.value}get focusDisabled(){return this.disabled}connectedCallback(){super.connectedCallback(),this.value=this.multiple&&ie(this.value)?this.value?[this.value]:[]:this.value,this.defaultValue=this.multiple?[]:"",this.definedController.whenDefined().then(()=>{this.requestUpdate()}),this.updateComplete.then(()=>{this.observeResize=oe(this.textFieldRef.value,()=>this.resizeMenu())})}disconnectedCallback(){var e;super.disconnectedCallback(),(e=this.observeResize)==null||e.unobserve()}checkValidity(){const e=this.hiddenInputRef.value.checkValidity();return e||this.emit("invalid",{bubbles:!1,cancelable:!0,composed:!1}),e}reportValidity(){return this.invalid=!this.hiddenInputRef.value.reportValidity(),this.invalid&&(this.emit("invalid",{bubbles:!1,cancelable:!0,composed:!1}),this.focus()),!this.invalid}setCustomValidity(e){this.hiddenInputRef.value.setCustomValidity(e),this.invalid=!this.hiddenInputRef.value.checkValidity()}render(){var t;const e=this.multiple?!!this.value.length:!!this.value;return c`${this.multiple?c`<select ${k(this.hiddenInputRef)} class="hidden-input" name="${L(this.name)}" value="${L(this.value)}" .required="${this.required}" .disabled="${this.disabled}" multiple="multiple" tabindex="-1">${_(this.value,i=>c`<option selected="selected" value="${i}"></option>`)}</select>`:c`<input ${k(this.hiddenInputRef)} type="radio" class="hidden-input" name="${L(this.name)}" value="${L(this.value)}" .required="${this.required}" .disabled="${this.disabled}" .checked="${e}" tabindex="-1">`}<mdui-dropdown .stayOpenOnClick="${this.multiple}" .disabled="${this.readonly||this.disabled}" .placement="${this.placement==="top"?"top-start":this.placement==="bottom"?"bottom-start":"auto"}" @open="${this.onDropdownOpen}" @close="${this.onDropdownClose}"><mdui-text-field ${k(this.textFieldRef)} slot="trigger" part="text-field" class="text-field" exportparts="${["container","icon","end-icon","error-icon","prefix","suffix","label","input","clear-button","clear-icon","supporting","helper","error"].map(i=>`${i}:text-field__${i}`).join(",")}" readonly="readonly" .readonlyButClearable="${!0}" .variant="${this.variant}" .name="${this.name}" .value="${this.multiple?this.value.length?" ":"":this.getMenuItemLabelByValue(this.value)}" .label="${this.label}" .placeholder="${this.placeholder}" .helper="${this.helper}" .error="${(t=this.hiddenInputRef.value)==null?void 0:t.validationMessage}" .clearable="${this.clearable}" .clearIcon="${this.clearIcon}" .endAligned="${this.endAligned}" .prefix="${this.prefix}" .suffix="${this.suffix}" .icon="${this.icon}" .endIcon="${this.endIcon}" .errorIcon="${this.errorIcon}" .form="${this.form}" .disabled="${this.disabled}" .required="${this.required}" .invalidStyle="${this.invalid}" @clear="${this.onClear}" @change="${i=>i.stopPropagation()}" @keydown="${this.onTextFieldKeyDown}">${_(["icon","end-icon","error-icon","prefix","suffix","clear-button","clear-icon","helper"],i=>this.hasSlotController.test(i)?c`<slot name="${i}" slot="${i}"></slot>`:he)} ${ne(this.multiple&&this.value.length,()=>c`<div slot="input" class="chips" part="chips">${_(this.value,i=>c`<mdui-chip class="chip" part="chip" exportparts="${["button","label","delete-icon"].map(o=>`${o}:chip__${o}`).join(",")}" variant="input" deletable tabindex="-1" @delete="${()=>this.onDeleteOneValue(i)}">${this.getMenuItemLabelByValue(i)}</mdui-chip>`)}</div>`)}</mdui-text-field><mdui-menu ${k(this.menuRef)} part="menu" .selects="${this.multiple?"multiple":"single"}" .value="${this.value}" @change="${this.onValueChange}"><slot></slot></mdui-menu></mdui-dropdown>`}getMenuItemLabelByValue(e){var t,i;return this.menuItems.length&&((i=(t=this.menuItems.find(o=>o.value===e))==null?void 0:t.textContent)==null?void 0:i.trim())||e}resizeMenu(){this.menuRef.value.style.width=`${this.textFieldRef.value.clientWidth}px`}async onDropdownOpen(){this.textFieldRef.value.focusedStyle=!0}onDropdownClose(){var e;this.textFieldRef.value.focusedStyle=!1,(this.contains(document.activeElement)||this.contains(((e=document.activeElement)==null?void 0:e.assignedSlot)??null))&&setTimeout(()=>{this.focus()})}async onValueChange(e){var o;const t=e.target;this.value=this.multiple?t.value.map(a=>a??""):t.value??"",await this.updateComplete;const i=this.formController.getForm();i&&((o=Q.get(i))!=null&&o.has(this))?(this.invalid=!1,Q.get(i).delete(this)):this.invalid=!this.hiddenInputRef.value.checkValidity()}onDeleteOneValue(e){const t=[...this.value];t.includes(e)&&t.splice(t.indexOf(e),1),this.value=t}onClear(){this.value=this.multiple?[]:""}onTextFieldKeyDown(e){e.key==="Enter"&&(e.preventDefault(),this.textFieldRef.value.click())}};u.styles=[F,Ve];n([r({reflect:!0})],u.prototype,"variant",void 0);n([r({type:Boolean,reflect:!0,converter:b})],u.prototype,"multiple",void 0);n([r({reflect:!0})],u.prototype,"name",void 0);n([r()],u.prototype,"value",void 0);n([ke()],u.prototype,"defaultValue",void 0);n([r({reflect:!0})],u.prototype,"label",void 0);n([r({reflect:!0})],u.prototype,"placeholder",void 0);n([r({reflect:!0})],u.prototype,"helper",void 0);n([r({type:Boolean,reflect:!0,converter:b})],u.prototype,"clearable",void 0);n([r({reflect:!0,attribute:"clear-icon"})],u.prototype,"clearIcon",void 0);n([r({reflect:!0})],u.prototype,"placement",void 0);n([r({type:Boolean,reflect:!0,converter:b,attribute:"end-aligned"})],u.prototype,"endAligned",void 0);n([r({reflect:!0})],u.prototype,"prefix",void 0);n([r({reflect:!0})],u.prototype,"suffix",void 0);n([r({reflect:!0})],u.prototype,"icon",void 0);n([r({reflect:!0,attribute:"end-icon"})],u.prototype,"endIcon",void 0);n([r({reflect:!0,attribute:"error-icon"})],u.prototype,"errorIcon",void 0);n([r({reflect:!0})],u.prototype,"form",void 0);n([r({type:Boolean,reflect:!0,converter:b})],u.prototype,"readonly",void 0);n([r({type:Boolean,reflect:!0,converter:b})],u.prototype,"disabled",void 0);n([r({type:Boolean,reflect:!0,converter:b})],u.prototype,"required",void 0);n([S()],u.prototype,"invalid",void 0);n([q({flatten:!0,selector:"mdui-menu-item"})],u.prototype,"menuItems",void 0);u=n([M("mdui-select")],u);m.contains=Se;let X=class extends pe{render(){return De('<path d="m10 17 5-5-5-5v10z"/>')}};X.styles=Oe;X=n([M("mdui-icon-arrow-right")],X);const Be=P`:host{position:relative;display:block}:host([selected]){background-color:rgba(var(--mdui-color-primary),12%)}:host([disabled]:not([disabled=false i])){pointer-events:none}.container{cursor:pointer;-webkit-user-select:none;user-select:none;-webkit-tap-highlight-color:transparent}:host([disabled]:not([disabled=false i])) .container{cursor:default;opacity:.38}.preset{display:flex;align-items:center;text-decoration:none;height:3rem;padding:0 .75rem}.preset.dense{height:2rem}.label-container{flex:1 1 100%;min-width:0}.label{display:block;overflow:hidden;white-space:nowrap;text-overflow:ellipsis;color:rgb(var(--mdui-color-on-surface));font-size:var(--mdui-typescale-label-large-size);font-weight:var(--mdui-typescale-label-large-weight);letter-spacing:var(--mdui-typescale-label-large-tracking)}.end-icon,.end-text,.icon,.selected-icon{display:none;flex:0 0 auto;color:rgb(var(--mdui-color-on-surface-variant))}.has-end-icon .end-icon,.has-end-text .end-text,.has-icon .icon,.has-icon .selected-icon{display:flex}.end-icon,.icon,.selected-icon{font-size:1.5rem}.end-icon::slotted(mdui-avatar),.icon::slotted(mdui-avatar),.selected-icon::slotted(mdui-avatar){width:1.5rem;height:1.5rem}.dense .end-icon,.dense .icon,.dense .selected-icon{font-size:1.125rem}.dense .end-icon::slotted(mdui-avatar),.dense .icon::slotted(mdui-avatar),.dense .selected-icon::slotted(mdui-avatar){width:1.125rem;height:1.125rem}.end-icon .i,.icon .i,.selected-icon .i,::slotted([slot=end-icon]),::slotted([slot=icon]),::slotted([slot=selected-icon]){font-size:inherit}.end-text{font-size:var(--mdui-typescale-label-large-size);font-weight:var(--mdui-typescale-label-large-weight);letter-spacing:var(--mdui-typescale-label-large-tracking);line-height:var(--mdui-typescale-label-large-line-height)}.icon,.selected-icon{margin-right:.75rem}.end-icon,.end-text{margin-left:.75rem}.arrow-right{color:rgb(var(--mdui-color-on-surface))}.submenu{--shape-corner:var(--mdui-shape-corner-extra-small);display:block;position:absolute;z-index:1;border-radius:var(--shape-corner);background-color:rgb(var(--mdui-color-surface-container));box-shadow:var(--mdui-elevation-level2);min-width:7rem;max-width:17.5rem;padding-top:.5rem;padding-bottom:.5rem;--mdui-comp-ripple-state-layer-color:var(--mdui-color-on-surface)}.submenu::slotted(mdui-divider){margin-top:.5rem;margin-bottom:.5rem}`;let p=class extends Ee(Ce(le(V))){constructor(){super(),this.disabled=!1,this.submenuOpen=!1,this.selected=!1,this.dense=!1,this.focusable=!1,this.key=Ie(),this.rippleRef=I(),this.containerRef=I(),this.submenuRef=I(),this.hasSlotController=new se(this,"[default]","icon","end-icon","end-text","submenu","custom"),this.definedController=new B(this,{relatedElements:[""]}),this.onOuterClick=this.onOuterClick.bind(this),this.onFocus=this.onFocus.bind(this),this.onBlur=this.onBlur.bind(this),this.onClick=this.onClick.bind(this),this.onKeydown=this.onKeydown.bind(this),this.onMouseEnter=this.onMouseEnter.bind(this),this.onMouseLeave=this.onMouseLeave.bind(this)}get focusDisabled(){return this.disabled||!this.focusable}get focusElement(){return this.href&&!this.disabled?this.containerRef.value:this}get rippleDisabled(){return this.disabled}get rippleElement(){return this.rippleRef.value}get hasSubmenu(){return this.hasSlotController.test("submenu")}async onOpenChange(){const e=this.hasUpdated;if(!this.submenuOpen&&!e)return;await this.definedController.whenDefined(),e||await this.updateComplete;const t=R(this,"linear"),i=R(this,"emphasized-decelerate"),o=R(this,"emphasized-accelerate");if(this.submenuOpen){if(e&&!this.emit("submenu-open",{cancelable:!0}))return;const a=K(this,"medium4");await z(this.submenuRef.value),this.submenuRef.value.hidden=!1,this.updateSubmenuPositioner(),await Promise.all([x(this.submenuRef.value,[{transform:"scaleY(0.45)"},{transform:"scaleY(1)"}],{duration:e?a:0,easing:i}),x(this.submenuRef.value,[{opacity:0},{opacity:1,offset:.125},{opacity:1}],{duration:e?a:0,easing:t})]),e&&this.emit("submenu-opened")}else{if(!this.emit("submenu-close",{cancelable:!0}))return;const l=K(this,"short4");await z(this.submenuRef.value),await Promise.all([x(this.submenuRef.value,[{transform:"scaleY(1)"},{transform:"scaleY(0.45)"}],{duration:l,easing:o}),x(this.submenuRef.value,[{opacity:1},{opacity:1,offset:.875},{opacity:0}],{duration:l,easing:t})]),this.submenuRef.value&&(this.submenuRef.value.hidden=!0),this.emit("submenu-closed")}}connectedCallback(){super.connectedCallback(),this.definedController.whenDefined().then(()=>{document.addEventListener("pointerdown",this.onOuterClick)})}disconnectedCallback(){super.disconnectedCallback(),document.removeEventListener("pointerdown",this.onOuterClick)}firstUpdated(e){super.firstUpdated(e),this.definedController.whenDefined().then(()=>{this.addEventListener("focus",this.onFocus),this.addEventListener("blur",this.onBlur),this.addEventListener("click",this.onClick),this.addEventListener("keydown",this.onKeydown),this.addEventListener("mouseenter",this.onMouseEnter),this.addEventListener("mouseleave",this.onMouseLeave)})}render(){const e=this.hasSubmenu,t=this.hasSlotController.test("custom"),i=this.hasSlotController.test("end-icon"),o=!this.endIcon&&e&&!i,a=this.endIcon||e||i,l=!Y(this.icon)||this.selects==="single"||this.selects==="multiple"||this.hasSlotController.test("icon"),d=!!this.endText||this.hasSlotController.test("end-text"),h=$e({container:!0,dense:this.dense,preset:!t,"has-icon":l,"has-end-text":d,"has-end-icon":a});return c`<mdui-ripple ${k(this.rippleRef)} .noRipple="${this.noRipple}"></mdui-ripple>${this.href&&!this.disabled?this.renderAnchor({part:"container",className:h,content:this.renderInner(o,l),refDirective:k(this.containerRef),tabIndex:this.focusable?0:-1}):c`<div part="container" ${k(this.containerRef)} class="${h}">${this.renderInner(o,l)}</div>`} ${ne(e,()=>c`<slot name="submenu" ${k(this.submenuRef)} part="submenu" class="submenu" hidden></slot>`)}`}onOuterClick(e){!this.disabled&&this.submenuOpen&&this!==e.target&&!m.contains(this,e.target)&&(this.submenuOpen=!1)}hasTrigger(e){return this.submenuTrigger?this.submenuTrigger.split(" ").includes(e):!1}onFocus(){this.disabled||this.submenuOpen||!this.hasTrigger("focus")||!this.hasSubmenu||(this.submenuOpen=!0)}onBlur(){this.disabled||!this.submenuOpen||!this.hasTrigger("focus")||!this.hasSubmenu||(this.submenuOpen=!1)}onClick(e){this.disabled||e.button||!this.hasTrigger("click")||e.target!==this||!this.hasSubmenu||this.submenuOpen&&(this.hasTrigger("hover")||this.hasTrigger("focus"))||(this.submenuOpen=!this.submenuOpen)}onKeydown(e){this.disabled||!this.hasSubmenu||(!this.submenuOpen&&e.key==="Enter"&&(e.stopPropagation(),this.submenuOpen=!0),this.submenuOpen&&e.key==="Escape"&&(e.stopPropagation(),this.submenuOpen=!1))}onMouseEnter(){this.disabled||!this.hasTrigger("hover")||!this.hasSubmenu||(window.clearTimeout(this.submenuCloseTimeout),this.submenuOpenDelay?this.submenuOpenTimeout=window.setTimeout(()=>{this.submenuOpen=!0},this.submenuOpenDelay):this.submenuOpen=!0)}onMouseLeave(){this.disabled||!this.hasTrigger("hover")||!this.hasSubmenu||(window.clearTimeout(this.submenuOpenTimeout),this.submenuCloseTimeout=window.setTimeout(()=>{this.submenuOpen=!1},this.submenuCloseDelay||50))}updateSubmenuPositioner(){const e=m(window),t=m(this.submenuRef.value),i=this.getBoundingClientRect(),o=t.innerWidth(),a=t.innerHeight(),l=8;let d="bottom",h="right";e.height()-i.top>a+l?d="bottom":i.top+i.height>a+l&&(d="top"),e.width()-i.left-i.width>o+l?h="right":i.left>o+l&&(h="left"),m(this.submenuRef.value).css({top:d==="bottom"?0:i.height-a,left:h==="right"?i.width:-o,transformOrigin:[h==="right"?0:"100%",d==="bottom"?0:"100%"].join(" ")})}renderInner(e,t){return c`<slot name="custom">${this.selected?c`<slot name="selected-icon" part="selected-icon" class="selected-icon">${this.selectedIcon?c`<mdui-icon name="${this.selectedIcon}" class="i"></mdui-icon>`:c`<mdui-icon-check class="i"></mdui-icon-check>`}</slot>`:c`<slot name="icon" part="icon" class="icon">${t?c`<mdui-icon name="${this.icon}" class="i"></mdui-icon>`:Z}</slot>`}<div class="label-container"><slot part="label" class="label"></slot></div><slot name="end-text" part="end-text" class="end-text">${this.endText}</slot>${e?c`<mdui-icon-arrow-right part="end-icon" class="end-icon arrow-right"></mdui-icon-arrow-right>`:c`<slot name="end-icon" part="end-icon" class="end-icon">${this.endIcon?c`<mdui-icon name="${this.endIcon}"></mdui-icon>`:Z}</slot>`}</slot>`}};p.styles=[F,Be];n([r({reflect:!0})],p.prototype,"value",void 0);n([r({type:Boolean,reflect:!0,converter:b})],p.prototype,"disabled",void 0);n([r({reflect:!0})],p.prototype,"icon",void 0);n([r({reflect:!0,attribute:"end-icon"})],p.prototype,"endIcon",void 0);n([r({reflect:!0,attribute:"end-text"})],p.prototype,"endText",void 0);n([r({reflect:!0,attribute:"selected-icon"})],p.prototype,"selectedIcon",void 0);n([r({type:Boolean,reflect:!0,converter:b,attribute:"submenu-open"})],p.prototype,"submenuOpen",void 0);n([r({type:Boolean,reflect:!0,converter:b})],p.prototype,"selected",void 0);n([S()],p.prototype,"dense",void 0);n([S()],p.prototype,"selects",void 0);n([S()],p.prototype,"submenuTrigger",void 0);n([S()],p.prototype,"submenuOpenDelay",void 0);n([S()],p.prototype,"submenuCloseDelay",void 0);n([S()],p.prototype,"focusable",void 0);n([v("submenuOpen")],p.prototype,"onOpenChange",null);p=n([M("mdui-menu-item")],p);const qe=":host{display:block}:host mdui-select{font-size:12px;border:0}:host mdui-select::part(text-field){font-size:14px;background:transparent}:host mdui-select::part(text-field__container){background:transparent}:host mdui-select::part(text-field__input){font-size:14px;background:transparent;min-height:44px}:host mdui-select::part(chips){margin:-0.875rem -0.25rem}:host mdui-select::part(menu){max-height:300px;overflow-y:auto;padding:0}:host mdui-select::slotted(mdui-dropdown){margin:0;padding:0}",Ue=class extends fe{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.valueChanged=ge(this,"valueChanged",7),this.handleChange=s=>{const e=s.target;e!=null&&e.value?(this.value=e.value,console.log("Selected value from property:",this.value)):e.hasAttribute("value")?(this.value=e.getAttribute("value")||"",console.log("Selected value from attribute:",this.value)):console.warn("Unable to retrieve value from event target.")},this.value="",this.name="",this.label="",this.placeholder="",this.helper="",this.variant="filled",this.usage="standard",this.multiple=!1,this.clearable=!1,this.disabled=!1,this.required=!1,this.readonly=!1,this.size="normal",this.placement="bottom",this.icon="",this.endIcon="",this.flex=!0,this.suffix="",this.clearIcon="close"}handleValueChange(s){this.valueChanged.emit({value:s})}componentDidLoad(){console.log("Preselected value(s) on load:",this.value);const s=this.host.shadowRoot;if(s){const e=s.querySelector("mdui-select"),t=s.querySelectorAll("mdui-menu-item"),i=s.querySelector("mdui-text-field");i&&(i.style.border="5px",console.log("GOT IT",i.outerHTML)),e&&(e.style.height="44px",e.style.display="flex",e.style.borderRadius="0",e.style.flex="1",console.log("Styled mdui-select:",e.outerHTML)),t.forEach((a,l)=>{a.style.backgroundColor=l%2===0?"lightgreen":"lightcoral",a.style.fontSize="9px",console.log("Styled menu item:",a.outerHTML)});const o=s.querySelector("input");o&&(o.style.backgroundColor="red",o.style.color="white")}}render(){const s={flex:this.flex?"1":"0 1 auto",maxWidth:this.usage==="topBar"?"350px":"initial",fontSize:"10px"};return $(be,{key:"3512c673c0d9d2fd33247b0a41d09209e58ffc87",style:s},$("mdui-select",{key:"90cbfb61220335366a45428737f0827e2d623f7a",name:this.name,value:this.value,variant:this.variant,usage:this.usage,multiple:this.multiple,class:this.multiple?"":"single-select",flex:this.flex,clearable:this.clearable,disabled:this.disabled,required:this.required,readonly:this.readonly,placement:this.placement,placeholder:this.placeholder,"end-icon":this.endIcon,onChange:this.handleChange,style:s},this.icon&&$("span",{key:"10d76b9285b27dcdd471d983881b74eff1eda1e4",slot:"icon"},this.icon),this.endIcon&&$("span",{key:"ccfbaee871547024149bcc5b5b60de789821098b",slot:"end-icon"},this.endIcon),this.suffix&&$("span",{key:"3943962955d91f8c1ffbdc04b1e77c7abd8693e8",slot:"suffix"},this.suffix),$("slot",{key:"f4792cddef47d5b52133ab4e11db2eaee6d42dee"}),this.helper&&$("span",{key:"02b864cd227ba3c4355906468395f042a88c2690",slot:"helper"},this.helper)))}get host(){return this}static get watchers(){return{value:["handleValueChange"]}}static get style(){return qe}};me(Ue,[1,"ur-select",{value:[1],name:[1],label:[1],placeholder:[1],helper:[1],variant:[1],usage:[1],multiple:[4],clearable:[4],disabled:[4],required:[4],readonly:[4],size:[1],placement:[1],icon:[1],endIcon:[1,"end-icon"],flex:[4],suffix:[1],clearIcon:[1,"clear-icon"]},void 0,{value:["handleValueChange"]}]);const te={schemaVersion:"1.0.0",modules:[{kind:"javascript-module",path:"",declarations:[{kind:"class",name:"UrSelect",tagName:"ur-select",customElement:!0,members:[{kind:"field",name:"value",type:"string",description:"",default:"''"},{kind:"field",name:"name",type:"string",description:"",default:"''"},{kind:"field",name:"label",type:"string",description:"",default:"''"},{kind:"field",name:"placeholder",type:"string",description:"",default:"''"},{kind:"field",name:"helper",type:"string",description:"",default:"''"},{kind:"field",name:"variant",type:"string",description:"",default:"'filled'"},{kind:"field",name:"usage",type:"string",description:"",default:"'standard'"},{kind:"field",name:"multiple",type:"boolean",description:"",default:"false"},{kind:"field",name:"clearable",type:"boolean",description:"",default:"false"},{kind:"field",name:"disabled",type:"boolean",description:"",default:"false"},{kind:"field",name:"required",type:"boolean",description:"",default:"false"},{kind:"field",name:"readonly",type:"boolean",description:"",default:"false"},{kind:"field",name:"size",type:"string",description:"",default:"'normal'"},{kind:"field",name:"placement",type:"string",description:"",default:"'bottom'"},{kind:"field",name:"icon",type:"string",description:"",default:"''"},{kind:"field",name:"endIcon",type:"string",description:"",default:"''"},{kind:"field",name:"flex",type:"boolean",description:"",default:"true"},{kind:"field",name:"suffix",type:"string",description:"",default:"''"},{kind:"field",name:"clearIcon",type:"string",description:"",default:"'close'"}],events:[{kind:"event",name:"valueChanged",description:""}]}],exports:[{kind:"js",name:"UrSelect",declaration:{name:"UrSelect",module:"src/components/ur-select/ur-select.tsx"}},{kind:"custom-element-definition",name:"ur-select",declaration:{name:"UrSelect",module:"src/components/ur-select/ur-select.tsx"}}]}]};ce({...J()||{},...te,modules:[...(J()||{}).modules||[],...te.modules]});
