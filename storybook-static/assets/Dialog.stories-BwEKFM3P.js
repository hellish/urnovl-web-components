import{i as ce,k as p}from"./entry-preview-BcHUnPw7.js";import"./ur-button-D_5onoL4.js";import{s as de,g as T}from"./chunk-L4EGOTBX-2Jzo53v8.js";import{d as ue,H as he,h as D,a as pe}from"./index-CLClakx-.js";import{m as fe,o as z,$ as u,c as ie,p as me,q as ye,b as ne,s as ge,u as ve,v as be,w as ae,j as ke,l as we,_ as h,n as m,M as Ce,f as R,H as Ee,D as Oe,K as S,k as xe,g as b,t as De}from"./index-nIgcz_ss.js";import{o as Re}from"./query-assigned-elements-BInJlOXT.js";import{n as y}from"./when-BxLAFfhK.js";import{w as Se}from"./watch-ByvFYHv8.js";import{g as A,a as H,b as f,s as $}from"./motion-BST8LVZ2.js";import{n as Ae}from"./template-yncBVCyc.js";import{o as $e}from"./localize-KjCP0y81.js";import"./index-DrFu-skq.js";import"./index-CgDQfvCe.js";import"./button-base-BAH5M8si.js";import"./form-CmHWCLTt.js";function _(t){const e=fe(),o=t.localName;return t.getAttribute("tabindex")==="-1"||t.hasAttribute("disabled")||t.hasAttribute("aria-disabled")&&t.getAttribute("aria-disabled")!=="false"||o==="input"&&t.getAttribute("type")==="radio"&&!t.hasAttribute("checked")||t.offsetParent===null||e.getComputedStyle(t).visibility==="hidden"?!1:(o==="audio"||o==="video")&&t.hasAttribute("controls")||t.hasAttribute("tabindex")||t.hasAttribute("contenteditable")&&t.getAttribute("contenteditable")!=="false"?!0:["button","input","select","textarea","a","audio","video","summary"].includes(o)}function Be(t){const e=[];function o(n){n instanceof HTMLElement&&(e.push(n),n.shadowRoot!==null&&n.shadowRoot.mode==="open"&&o(n.shadowRoot)),[...n.children].forEach(a=>o(a))}o(t);const s=e.find(n=>_(n))??null,i=e.reverse().find(n=>_(n))??null;return{start:s,end:i}}let g=[];class ze{constructor(e){this.tabDirection="forward",this.element=e,this.handleFocusIn=this.handleFocusIn.bind(this),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleKeyUp=this.handleKeyUp.bind(this)}activate(){g.push(this.element),document.addEventListener("focusin",this.handleFocusIn),document.addEventListener("keydown",this.handleKeyDown),document.addEventListener("keyup",this.handleKeyUp)}deactivate(){g=g.filter(e=>e!==this.element),document.removeEventListener("focusin",this.handleFocusIn),document.removeEventListener("keydown",this.handleKeyDown),document.removeEventListener("keyup",this.handleKeyUp)}isActive(){return g[g.length-1]===this.element}checkFocus(){if(this.isActive()&&!this.element.matches(":focus-within")){const{start:e,end:o}=Be(this.element),s=this.tabDirection==="forward"?e:o;typeof(s==null?void 0:s.focus)=="function"&&s.focus({preventScroll:!0})}}handleFocusIn(){this.checkFocus()}handleKeyDown(e){e.key==="Tab"&&e.shiftKey&&(this.tabDirection="backward"),requestAnimationFrame(()=>this.checkFocus())}handleKeyUp(){this.tabDirection="forward"}}const Te=t=>ne(t)&&!(t.startsWith("<")&&t.endsWith(">"));z(["before","after"],(t,e)=>{u.fn[t]=function(...o){return e===1&&(o=o.reverse()),this.each((s,i)=>{const n=ie(o[0])?[o[0].call(i,s,i.innerHTML)]:o;z(n,l=>{let a;Te(l)?a=u(me(l,"div")):s&&ye(l)?a=u(l.cloneNode(!0)):a=u(l),a[e?"insertAfter":"insertBefore"](i)})})}});u.fn.clone=function(){return this.map(function(){return this.cloneNode(!0)})};z(["prepend","append"],(t,e)=>{u.fn[t]=function(...o){return this.each((s,i)=>{const n=i.childNodes,l=n.length,a=l?n[e?l-1:0]:ge("div");l||ve(i,a);let c=ie(o[0])?[o[0].call(i,s,i.innerHTML)]:o;s&&(c=c.map(r=>ne(r)?r:u(r).clone())),u(a)[e?"after":"before"](...c),l||be(a)})}});let B;const He=t=>{if(ke(document))return 0;if(B===void 0){const e=u("<div>").css({width:"100%",height:"200px"}),o=u("<div>").css({position:"absolute",top:"0",left:"0",pointerEvents:"none",visibility:"hidden",width:"200px",height:"150px",overflow:"hidden"}).append(e).appendTo(document.body),s=e[0].offsetWidth;o.css("overflow","scroll");let i=e[0].offsetWidth;s===i&&(i=o[0].clientWidth),o.remove(),B=s-i}return B},_e=t=>t.scrollHeight>t.clientHeight,v=new WeakMap,re="mdui-lock-screen",Ue=(t,e)=>{const o=ae();e??(e=o.documentElement),v.has(e)||v.set(e,new Set),v.get(e).add(t);const i=u(e);_e(e)&&i.css("width",`calc(100% - ${He()}px)`),i.addClass(re)},U=(t,e)=>{const o=ae();e??(e=o.documentElement);const s=v.get(e);s&&(s.delete(t),s.size===0&&(v.delete(e),u(e).removeClass(re).width("")))},Fe=ce`:host{--shape-corner:var(--mdui-shape-corner-extra-large);--z-index:2300;position:fixed;z-index:var(--z-index);display:none;align-items:center;justify-content:center;inset:0;padding:3rem}::slotted(mdui-top-app-bar[slot=header]){position:absolute;border-top-left-radius:var(--mdui-shape-corner-extra-large);border-top-right-radius:var(--mdui-shape-corner-extra-large);background-color:rgb(var(--mdui-color-surface-container-high))}:host([fullscreen]:not([fullscreen=false i])){--shape-corner:var(--mdui-shape-corner-none);padding:0}:host([fullscreen]:not([fullscreen=false i])) ::slotted(mdui-top-app-bar[slot=header]){border-top-left-radius:var(--mdui-shape-corner-none);border-top-right-radius:var(--mdui-shape-corner-none)}.overlay{position:fixed;inset:0;background-color:rgba(var(--mdui-color-scrim),.4)}.panel{--mdui-color-background:var(--mdui-color-surface-container-high);position:relative;display:flex;flex-direction:column;max-height:100%;border-radius:var(--shape-corner);outline:0;transform-origin:top;min-width:17.5rem;max-width:35rem;padding:1.5rem;background-color:rgb(var(--mdui-color-surface-container-high));box-shadow:var(--mdui-elevation-level3)}:host([fullscreen]:not([fullscreen=false i])) .panel{width:100%;max-width:100%;height:100%;max-height:100%;box-shadow:var(--mdui-elevation-level0)}.header{display:flex;flex-direction:column}.has-icon .header{align-items:center}.icon{display:flex;color:rgb(var(--mdui-color-secondary));font-size:1.5rem}.icon mdui-icon,::slotted([slot=icon]){font-size:inherit}.headline{display:flex;color:rgb(var(--mdui-color-on-surface));font-size:var(--mdui-typescale-headline-small-size);font-weight:var(--mdui-typescale-headline-small-weight);letter-spacing:var(--mdui-typescale-headline-small-tracking);line-height:var(--mdui-typescale-headline-small-line-height)}.icon+.headline{padding-top:1rem}.body{overflow:auto}.header+.body{margin-top:1rem}.description{display:flex;color:rgb(var(--mdui-color-on-surface-variant));font-size:var(--mdui-typescale-body-medium-size);font-weight:var(--mdui-typescale-body-medium-weight);letter-spacing:var(--mdui-typescale-body-medium-tracking);line-height:var(--mdui-typescale-body-medium-line-height)}:host([fullscreen]:not([fullscreen=false i])) .description{color:rgb(var(--mdui-color-on-surface))}.has-description.has-default .description{margin-bottom:1rem}.action{display:flex;justify-content:flex-end;padding-top:1.5rem}.action::slotted(:not(:first-child)){margin-left:.5rem}:host([stacked-actions]:not([stacked-actions=false i])) .action{flex-direction:column;align-items:end}:host([stacked-actions]:not([stacked-actions=false i])) .action::slotted(:not(:first-child)){margin-left:0;margin-top:.5rem}`;let d=class extends Ce{constructor(){super(...arguments),this.open=!1,this.fullscreen=!1,this.closeOnEsc=!1,this.closeOnOverlayClick=!1,this.stackedActions=!1,this.overlayRef=R(),this.panelRef=R(),this.bodyRef=R(),this.hasSlotController=new Ee(this,"header","icon","headline","description","action","[default]"),this.definedController=new Oe(this,{relatedElements:["mdui-top-app-bar"]})}async onOpenChange(){const e=this.hasUpdated;if(!this.open&&!e)return;await this.definedController.whenDefined(),e||await this.updateComplete;const o=Array.from(this.panelRef.value.querySelectorAll(".header, .body, .actions")),s=A(this,"linear"),i=A(this,"emphasized-decelerate"),n=A(this,"emphasized-accelerate"),l=()=>Promise.all([$(this.overlayRef.value),$(this.panelRef.value),...o.map(a=>$(a))]);if(this.open){if(e&&!this.emit("open",{cancelable:!0}))return;this.style.display="flex";const a=this.topAppBarElements??[];if(a.length){const r=a[0];r.scrollTarget||(r.scrollTarget=this.bodyRef.value),this.bodyRef.value.style.marginTop="0"}this.originalTrigger=document.activeElement,this.modalHelper.activate(),Ue(this),await l(),requestAnimationFrame(()=>{const r=this.querySelector("[autofocus]");r?r.focus({preventScroll:!0}):this.panelRef.value.focus({preventScroll:!0})});const c=H(this,"medium4");await Promise.all([f(this.overlayRef.value,[{opacity:0},{opacity:1,offset:.3},{opacity:1}],{duration:e?c:0,easing:s}),f(this.panelRef.value,[{transform:"translateY(-1.875rem) scaleY(0)"},{transform:"translateY(0) scaleY(1)"}],{duration:e?c:0,easing:i}),f(this.panelRef.value,[{opacity:0},{opacity:1,offset:.1},{opacity:1}],{duration:e?c:0,easing:s}),...o.map(r=>f(r,[{opacity:0},{opacity:0,offset:.2},{opacity:1,offset:.8},{opacity:1}],{duration:e?c:0,easing:s}))]),e&&this.emit("opened")}else{if(!this.emit("close",{cancelable:!0}))return;this.modalHelper.deactivate(),await l();const c=H(this,"short4");await Promise.all([f(this.overlayRef.value,[{opacity:1},{opacity:0}],{duration:c,easing:s}),f(this.panelRef.value,[{transform:"translateY(0) scaleY(1)"},{transform:"translateY(-1.875rem) scaleY(0.6)"}],{duration:c,easing:n}),f(this.panelRef.value,[{opacity:1},{opacity:1,offset:.75},{opacity:0}],{duration:c,easing:s}),...o.map(le=>f(le,[{opacity:1},{opacity:0,offset:.75},{opacity:0}],{duration:c,easing:s}))]),this.style.display="none",U(this);const r=this.originalTrigger;typeof(r==null?void 0:r.focus)=="function"&&setTimeout(()=>r.focus()),this.emit("closed")}}disconnectedCallback(){super.disconnectedCallback(),U(this),$e(this)}firstUpdated(e){super.firstUpdated(e),this.modalHelper=new ze(this),this.addEventListener("keydown",o=>{this.open&&this.closeOnEsc&&o.key==="Escape"&&(o.stopPropagation(),this.open=!1)})}render(){const e=this.hasSlotController.test("action"),o=this.hasSlotController.test("[default]"),s=!!this.icon||this.hasSlotController.test("icon"),i=!!this.headline||this.hasSlotController.test("headline"),n=!!this.description||this.hasSlotController.test("description"),l=s||i||this.hasSlotController.test("header"),a=n||o;return p`<div ${S(this.overlayRef)} part="overlay" class="overlay" @click="${this.onOverlayClick}" tabindex="-1"></div><div ${S(this.panelRef)} part="panel" class="panel ${xe({"has-icon":s,"has-description":n,"has-default":o})}" tabindex="0">${y(l,()=>p`<slot name="header" part="header" class="header">${y(s,()=>this.renderIcon())} ${y(i,()=>this.renderHeadline())}</slot>`)} ${y(a,()=>p`<div ${S(this.bodyRef)} part="body" class="body">${y(n,()=>this.renderDescription())}<slot></slot></div>`)} ${y(e,()=>p`<slot name="action" part="action" class="action"></slot>`)}</div>`}onOverlayClick(){this.emit("overlay-click"),this.closeOnOverlayClick&&(this.open=!1)}renderIcon(){return p`<slot name="icon" part="icon" class="icon">${this.icon?p`<mdui-icon name="${this.icon}"></mdui-icon>`:Ae}</slot>`}renderHeadline(){return p`<slot name="headline" part="headline" class="headline">${this.headline}</slot>`}renderDescription(){return p`<slot name="description" part="description" class="description">${this.description}</slot>`}};d.styles=[we,Fe];h([m({reflect:!0})],d.prototype,"icon",void 0);h([m({reflect:!0})],d.prototype,"headline",void 0);h([m({reflect:!0})],d.prototype,"description",void 0);h([m({type:Boolean,reflect:!0,converter:b})],d.prototype,"open",void 0);h([m({type:Boolean,reflect:!0,converter:b})],d.prototype,"fullscreen",void 0);h([m({type:Boolean,reflect:!0,converter:b,attribute:"close-on-esc"})],d.prototype,"closeOnEsc",void 0);h([m({type:Boolean,reflect:!0,converter:b,attribute:"close-on-overlay-click"})],d.prototype,"closeOnOverlayClick",void 0);h([m({type:Boolean,reflect:!0,converter:b,attribute:"stacked-actions"})],d.prototype,"stackedActions",void 0);h([Re({slot:"header",selector:"mdui-top-app-bar",flatten:!0})],d.prototype,"topAppBarElements",void 0);h([Se("open")],d.prototype,"onOpenChange",null);d=h([De("mdui-dialog")],d);const Le=":host{--ur-dialog-panel-border-radius:0}:host mdui-dialog::part(panel){padding:0;border-radius:var(--ur-dialog-panel-border-radius)}",Ke=class extends he{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.description=null,this.open=!1,this.fullscreen=!1,this.closeOnEsc=!0,this.closeOnOverlayClick=!0,this.borderRadius="0"}componentDidLoad(){this.el.style.setProperty("--ur-dialog-panel-border-radius",this.borderRadius),this.dialogElement=this.el.shadowRoot.querySelector(".inner-dialog")}async openDialog(){this.dialogElement.open=!0}async closeDialog(){this.dialogElement.open=!1}render(){return D(pe,{key:"9b9375d2d2f104c865ebee9597f0bb3fa09159cd"},D("mdui-dialog",{key:"7389b354a77671fc900de55eb65865ba879ac96a",open:this.open,"close-on-overlay-click":this.closeOnOverlayClick,"close-on-esc":this.closeOnEsc,fullscreen:this.fullscreen,class:"inner-dialog"},D("slot",{key:"cb343ffe12912fd343199f5ed48291048b6c155e"})))}get el(){return this}static get style(){return Le}};ue(Ke,[1,"ur-dialog",{description:[1],open:[4],fullscreen:[4],closeOnEsc:[4,"close-on-esc"],closeOnOverlayClick:[4,"close-on-overlay-click"],borderRadius:[1,"border-radius"],openDialog:[64],closeDialog:[64]}]);const F={schemaVersion:"1.0.0",modules:[{kind:"javascript-module",path:"",declarations:[{kind:"class",name:"UrDialog",tagName:"ur-dialog",customElement:!0,members:[{kind:"field",name:"description",type:"string",description:"",default:"null"},{kind:"field",name:"open",type:"boolean",description:"",default:"false"},{kind:"field",name:"fullscreen",type:"boolean",description:"",default:"false"},{kind:"field",name:"closeOnEsc",type:"boolean",description:"",default:"true"},{kind:"field",name:"closeOnOverlayClick",type:"boolean",description:"",default:"true"},{kind:"field",name:"borderRadius",type:"string",description:"",default:'"0"'}],events:[]}],exports:[{kind:"js",name:"UrDialog",declaration:{name:"UrDialog",module:"src/components/ur-dialog/ur-dialog.tsx"}},{kind:"custom-element-definition",name:"ur-dialog",declaration:{name:"UrDialog",module:"src/components/ur-dialog/ur-dialog.tsx"}}]}]};de({...T()||{},...F,modules:[...(T()||{}).modules||[],...F.modules]});var L=Object.freeze,Pe=Object.defineProperty,We=(t,e)=>L(Pe(t,"raw",{value:L(t.slice())})),K;const Me=()=>p`
    <div style="padding: 25px">[show any dialog content here]</div>
`,Ne=({open:t=!1,fullscreen:e=!1,closeOnEsc:o=!0,closeOnOverlayClick:s=!0,borderRadius:i="0"})=>p(K||(K=We([`
    <script>
        function handleClick() {
            document.getElementById('ur-dialog-1').openDialog();
        }
    <\/script>
    <ur-button onclick="handleClick()">Open</ur-button>
    <ur-dialog
        id="ur-dialog-1"
        open=`,`
        border-radius=`,`
        fullscreen=`,`
        close-on-esc=`,`
        close-on-overlay-click=`,`
    >
        `,`
    </ur-dialog>
`])),t,i,e,o,s,Me()),at={title:"Core/Dialog",render:t=>Ne(t),argTypes:{open:{control:"boolean"},closeOnEsc:{control:"boolean"},closeOnOverlayClick:{control:"boolean"}}},k={args:{open:!1}},w={args:{open:!0}},C={args:{closeOnEsc:!1}},E={args:{closeOnOverlayClick:!1}},O={args:{borderRadius:"15px"}},x={args:{fullscreen:!0}};var P,W,M;k.parameters={...k.parameters,docs:{...(P=k.parameters)==null?void 0:P.docs,source:{originalSource:`{
  args: {
    open: false
  }
}`,...(M=(W=k.parameters)==null?void 0:W.docs)==null?void 0:M.source}}};var N,Y,j;w.parameters={...w.parameters,docs:{...(N=w.parameters)==null?void 0:N.docs,source:{originalSource:`{
  args: {
    open: true
  }
}`,...(j=(Y=w.parameters)==null?void 0:Y.docs)==null?void 0:j.source}}};var I,q,V;C.parameters={...C.parameters,docs:{...(I=C.parameters)==null?void 0:I.docs,source:{originalSource:`{
  args: {
    closeOnEsc: false
  }
}`,...(V=(q=C.parameters)==null?void 0:q.docs)==null?void 0:V.source}}};var G,J,Q;E.parameters={...E.parameters,docs:{...(G=E.parameters)==null?void 0:G.docs,source:{originalSource:`{
  args: {
    closeOnOverlayClick: false
  }
}`,...(Q=(J=E.parameters)==null?void 0:J.docs)==null?void 0:Q.source}}};var X,Z,ee;O.parameters={...O.parameters,docs:{...(X=O.parameters)==null?void 0:X.docs,source:{originalSource:`{
  args: {
    borderRadius: "15px"
  }
}`,...(ee=(Z=O.parameters)==null?void 0:Z.docs)==null?void 0:ee.source}}};var te,oe,se;x.parameters={...x.parameters,docs:{...(te=x.parameters)==null?void 0:te.docs,source:{originalSource:`{
  args: {
    fullscreen: true
  }
}`,...(se=(oe=x.parameters)==null?void 0:oe.docs)==null?void 0:se.source}}};const rt=["Default","OpenByDefault","WithoutCloseOnEsc","WithoutCloseOnOverlayClick","RoundedWithBorderRadius","Fullscreen"];export{k as Default,x as Fullscreen,w as OpenByDefault,O as RoundedWithBorderRadius,C as WithoutCloseOnEsc,E as WithoutCloseOnOverlayClick,rt as __namedExportsOrder,at as default};
