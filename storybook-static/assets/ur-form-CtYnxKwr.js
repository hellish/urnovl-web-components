import{s as n,g as s}from"./chunk-L4EGOTBX-BPj2F1fn.js";import"./entry-preview-CxXhOGqP.js";import{d as l,H as d,c as o,h as a,a as f}from"./index-Bdp-Mrn6.js";const h="",c=class extends d{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.formValid=o(this,"formValid",7),this.formInvalid=o(this,"formInvalid",7),this.formDataChanged=o(this,"formDataChanged",7),this.formData={},this.formErrors={}}handleValueChanged(e){const{name:r,value:t}=e.detail;this.formData[r]=t,this.emitFormState()}handleErrorStateChanged(e){const{name:r,error:t,message:m}=e.detail;t?this.formErrors[r]=m||"Invalid input.":delete this.formErrors[r],console.log("Updated formErrors after errorStateChanged:",this.formErrors),this.emitFormState()}validateAllFields(){const e=Array.from(this.el.querySelectorAll("ur-text-field"));this.formErrors={},e.forEach(r=>{r.error&&(this.formErrors[r.name]=r.errorMessage||"Invalid input.")}),this.emitFormState()}async submitForm(){this.validateAllFields(),Object.keys(this.formErrors).length===0?this.formValid.emit():this.formInvalid.emit({errors:this.formErrors})}async resetForm(){Array.from(this.el.querySelectorAll("ur-text-field")).forEach(r=>{r.value="",r.error=!1}),this.formData={},this.formErrors={},this.emitFormState()}emitFormState(){const e=Array.from(this.el.querySelectorAll("ur-text-field"));this.formErrors={},e.forEach(r=>{r.error&&(this.formErrors[r.name]=r.errorMessage||"Invalid input.")}),console.log("Final state of formErrors:",this.formErrors),Object.keys(this.formErrors).length===0?(console.log("Emitting formValid event"),this.formValid.emit()):(console.log("Emitting formInvalid event"),this.formInvalid.emit({errors:this.formErrors})),this.formDataChanged.emit(this.formData)}render(){return a(f,{key:"af15f99b58f44d9177a4f17da743b48fcc50c232"},a("slot",{key:"a62f308220af5977d3bffe071d6cd043a7a011c1"}))}get el(){return this}static get style(){return h}};l(c,[1,"ur-form",{submitForm:[64],resetForm:[64]},[[0,"valueChanged","handleValueChanged"],[0,"errorStateChanged","handleErrorStateChanged"]]]);const i={schemaVersion:"1.0.0",modules:[{kind:"javascript-module",path:"",declarations:[{kind:"class",name:"UrForm",tagName:"ur-form",customElement:!0,members:[],events:[{kind:"event",name:"formValid",description:"Event emitted when the form is valid"},{kind:"event",name:"formInvalid",description:"Event emitted when the form is invalid"},{kind:"event",name:"formDataChanged",description:"Event emitted whenever the form data changes"}]}],exports:[{kind:"js",name:"UrForm",declaration:{name:"UrForm",module:"src/components/ur-form/ur-form.tsx"}},{kind:"custom-element-definition",name:"ur-form",declaration:{name:"UrForm",module:"src/components/ur-form/ur-form.tsx"}}]}]};n({...s()||{},...i,modules:[...(s()||{}).modules||[],...i.modules]});
