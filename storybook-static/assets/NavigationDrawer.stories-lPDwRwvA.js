import{i as $,k as O}from"./entry-preview-BcHUnPw7.js";import{s as B,g as E}from"./chunk-L4EGOTBX-2Jzo53v8.js";import{d as z,H as S,h as b,a as A}from"./index-Dnt4yWMo.js";import{m as U,o as _,p as F,$ as w,g as H,k as W,_ as r,n as m,D as I,b as q,d as f,c as X,q as V}from"./get-D9DBDJjp.js";import{i as D,K as L}from"./class-map-DirLTUPi.js";import{n as j}from"./when-BxLAFfhK.js";import"./ripple-mixin-Baxn-44g.js";import{w as y}from"./watch-ByvFYHv8.js";import{g as k,a as x,b as g,s as K}from"./motion-DSL5gj4j.js";import{l as M,u as C,M as G}from"./scroll-B05xjps2.js";import{o as J}from"./observeResize-DYL0_NZ3.js";import{L as Q}from"./layout-item-base-DHAFVIi5.js";import"./ur-locale-filter-button-ChINH5aX.js";import"./index-DrFu-skq.js";import"./index-BXDV2pmF.js";import"./uniqueId-Bqzl4fNd.js";import"./ur-button-icon-klassPFX.js";import"./index-CTeXfnxQ.js";import"./template-yncBVCyc.js";import"./button-base-ETGWZztw.js";import"./if-defined-CL77Dv0Z.js";import"./anchor-Bt_5eb2T.js";import"./form-D6WTgxde.js";import"./utils-C7udwElL.js";import"./index-s090kVPT.js";import"./index-Ce28mpJG.js";import"./live-BrcR7EIG.js";import"./default-value-4Lb4bBXQ.js";import"./svg-tag-vg7NTGHU.js";const Y=d=>{const t=U(),i=_(),h=t.getComputedStyle(i.documentElement),l=F(d)?w(d).innerWidth():H(d)?d:w(t).innerWidth(),c=o=>{const e=h.getPropertyValue(`--mdui-breakpoint-${o}`).toLowerCase();return parseFloat(e)},u=o=>{switch(o){case"xs":return"sm";case"sm":return"md";case"md":return"lg";case"lg":return"xl";case"xl":return"xxl"}};return{up(o){return l>=c(o)},down(o){return l<c(o)},only(o){return o==="xxl"?this.up(o):this.up(o)&&this.down(u(o))},not(o){return!this.only(o)},between(o,e){return this.up(o)&&this.down(e)}}},Z=$`:host{--shape-corner:var(--mdui-shape-corner-large);--z-index:2200;display:none;position:fixed;top:0;bottom:0;left:0;z-index:1;width:22.5rem}:host([placement=right]){left:initial;right:0}:host([mobile]),:host([modal]:not([modal=false i])){top:0!important;right:0;bottom:0!important;width:initial;z-index:var(--z-index)}:host([placement=right][mobile]),:host([placement=right][modal]:not([modal=false i])){left:0}:host([contained]:not([contained=false i])){position:absolute}.overlay{position:absolute;inset:0;z-index:inherit;background-color:rgba(var(--mdui-color-scrim),.4)}.panel{display:block;position:absolute;top:0;bottom:0;left:0;width:100%;overflow:auto;z-index:inherit;background-color:rgb(var(--mdui-color-surface));box-shadow:var(--mdui-elevation-level0)}:host([mobile]) .panel,:host([modal]:not([modal=false i])) .panel{border-radius:0 var(--shape-corner) var(--shape-corner) 0;max-width:80%;width:22.5rem;background-color:rgb(var(--mdui-color-surface-container-low));box-shadow:var(--mdui-elevation-level1)}:host([placement=right]) .panel{left:initial;right:0}:host([placement=right][mobile]) .panel,:host([placement=right][modal]:not([modal=false i])) .panel{border-radius:var(--shape-corner) 0 0 var(--shape-corner)}`;let n=class extends Q{constructor(){super(...arguments),this.open=!1,this.modal=!1,this.closeOnEsc=!1,this.closeOnOverlayClick=!1,this.placement="left",this.contained=!1,this.mobile=!1,this.overlayRef=D(),this.panelRef=D(),this.definedController=new I(this,{needDomReady:!0})}get layoutPlacement(){return this.placement}get lockTarget(){return this.contained||this.isParentLayout?this.parentElement:document.documentElement}get isModal(){return this.mobile||this.modal}async onContainedChange(){var t;await this.definedController.whenDefined(),(t=this.observeResize)==null||t.unobserve(),this.setObserveResize()}onPlacementChange(){this.isParentLayout&&this.layoutManager.updateLayout(this)}async onMobileChange(){!this.open||this.isParentLayout||this.contained||(await this.definedController.whenDefined(),this.isModal?(M(this,this.lockTarget),await this.getLockTargetAnimate(!1,0)):(C(this,this.lockTarget),await this.getLockTargetAnimate(!0,0)))}async onOpenChange(){let t=this.panelRef.value,i=this.overlayRef.value;const h=this.placement==="right",l=k(this,"linear"),c=k(this,"emphasized"),u=(e,a)=>{w(this.layoutManager.getItemsAndMain()).css("transition",V(e)?null:`all ${e}ms ${a}`)},o=async()=>{const e=[];if(this.isModal?e.push(i,t):this.isParentLayout||e.push(this.lockTarget),this.isParentLayout){const a=this.layoutManager.getItemsAndMain(),s=a.indexOf(this);e.push(...a.slice(s))}!this.isModal&&!e.includes(this)&&e.push(this),await Promise.all(e.map(a=>K(a)))};if(this.open){const e=this.hasUpdated;if(e||(await this.updateComplete,t=this.panelRef.value,i=this.overlayRef.value),e&&!this.emit("open",{cancelable:!0}))return;await this.definedController.whenDefined(),this.style.display="block",this.originalTrigger=document.activeElement,this.isModal&&(this.modalHelper.activate(),this.contained||M(this,this.lockTarget)),await o(),requestAnimationFrame(()=>{const p=this.querySelector("[autofocus]");p?p.focus({preventScroll:!0}):t.focus({preventScroll:!0})});const a=x(this,"long2"),s=[];if(this.isModal?s.push(g(i,[{opacity:0},{opacity:1,offset:.3},{opacity:1}],{duration:e?a:0,easing:l})):this.isParentLayout||s.push(this.getLockTargetAnimate(!0,e?a:0)),this.isParentLayout&&e&&(u(a,c),this.layoutManager.updateLayout(this)),s.push(g(this.isModal?t:this,[{transform:`translateX(${h?"":"-"}100%)`},{transform:"translateX(0)"}],{duration:e?a:0,easing:c})),await Promise.all(s),!this.open)return;this.isParentLayout&&e&&u(null),e&&this.emit("opened")}else if(this.hasUpdated){if(!this.emit("close",{cancelable:!0}))return;await this.definedController.whenDefined(),this.isModal&&this.modalHelper.deactivate(),await o();const a=x(this,"short4"),s=[];if(this.isModal?s.push(g(i,[{opacity:1},{opacity:0}],{duration:a,easing:l})):this.isParentLayout||s.push(this.getLockTargetAnimate(!1,a)),this.isParentLayout&&(u(a,c),this.layoutManager.updateLayout(this,{width:0})),s.push(g(this.isModal?t:this,[{transform:"translateX(0)"},{transform:`translateX(${h?"":"-"}100%)`}],{duration:a,easing:c})),await Promise.all(s),this.open)return;this.isParentLayout&&u(null),this.style.display="none",this.isModal&&!this.contained&&C(this,this.lockTarget);const p=this.originalTrigger;q(p==null?void 0:p.focus)&&setTimeout(()=>p.focus()),this.emit("closed")}}connectedCallback(){super.connectedCallback(),this.modalHelper=new G(this),this.definedController.whenDefined().then(()=>{this.setObserveResize()})}disconnectedCallback(){var t;super.disconnectedCallback(),C(this,this.lockTarget),(t=this.observeResize)==null||t.unobserve()}firstUpdated(t){super.firstUpdated(t),this.addEventListener("keydown",i=>{this.open&&this.closeOnEsc&&i.key==="Escape"&&this.isModal&&(i.stopPropagation(),this.open=!1)})}render(){return O`${j(this.isModal,()=>O`<div ${L(this.overlayRef)} part="overlay" class="overlay" @click="${this.onOverlayClick}"></div>`)}<slot ${L(this.panelRef)} part="panel" class="panel" tabindex="0"></slot>`}setObserveResize(){this.observeResize=J(this.contained?this.parentElement:document.documentElement,()=>{const t=this.contained?this.parentElement:void 0;this.mobile=Y(t).down("md"),this.isParentLayout&&this.layoutManager.updateLayout(this,{width:this.isModal?0:void 0})})}onOverlayClick(){this.emit("overlay-click"),this.closeOnOverlayClick&&(this.open=!1)}getLockTargetAnimate(t,i){const h=this.placement==="right"?"paddingRight":"paddingLeft",l=w(this.panelRef.value).innerWidth()+"px";return g(this.lockTarget,[{[h]:t?0:l},{[h]:t?l:0}],{duration:i,easing:k(this,"emphasized"),fill:"forwards"})}};n.styles=[W,Z];r([m({type:Boolean,reflect:!0,converter:f})],n.prototype,"open",void 0);r([m({type:Boolean,reflect:!0,converter:f})],n.prototype,"modal",void 0);r([m({type:Boolean,reflect:!0,converter:f,attribute:"close-on-esc"})],n.prototype,"closeOnEsc",void 0);r([m({type:Boolean,reflect:!0,converter:f,attribute:"close-on-overlay-click"})],n.prototype,"closeOnOverlayClick",void 0);r([m({reflect:!0})],n.prototype,"placement",void 0);r([m({type:Boolean,reflect:!0,converter:f})],n.prototype,"contained",void 0);r([m({type:Boolean,reflect:!0,converter:f})],n.prototype,"mobile",void 0);r([y("contained",!0)],n.prototype,"onContainedChange",null);r([y("placement",!0)],n.prototype,"onPlacementChange",null);r([y("mobile",!0),y("modal",!0)],n.prototype,"onMobileChange",null);r([y("open")],n.prototype,"onOpenChange",null);n=r([X("mdui-navigation-drawer")],n);const ee=":host{display:block;position:relative}",te=class extends S{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.open=!1,this.placement="right",this.closeOnEsc=!0,this.closeOnOverlayClick=!0,this.contained=!1}componentDidLoad(){this.drawerElement=this.el.shadowRoot.querySelector("mdui-navigation-drawer")}async openDrawer(){this.drawerElement.open=!0,this.open=!0}async closeDrawer(){this.drawerElement.open=!1,this.open=!1}render(){return b(A,{key:"b9790428fab714b0baa3529f69532168fa087355"},b("mdui-navigation-drawer",{key:"2898a0b24a9d836e5d6f925987e9ae8569525a8c",placement:this.placement,modal:!0,"close-on-esc":this.closeOnEsc,"close-on-overlay-click":this.closeOnOverlayClick,contained:this.contained,open:this.open},b("slot",{key:"fde915d3fb0931cd98752a4c83b9da9b980ef035"})))}get el(){return this}static get style(){return ee}};z(te,[1,"ur-navigation-drawer",{open:[4],placement:[1],closeOnEsc:[4,"close-on-esc"],closeOnOverlayClick:[4,"close-on-overlay-click"],contained:[4],openDrawer:[64],closeDrawer:[64]}]);const T={schemaVersion:"1.0.0",modules:[{kind:"javascript-module",path:"",declarations:[{kind:"class",name:"UrNavigationDrawer",tagName:"ur-navigation-drawer",customElement:!0,members:[{kind:"field",name:"open",type:"boolean",description:"Determines if the drawer is open",default:"false"},{kind:"field",name:"placement",type:"string",description:"Placement of the drawer: 'left' or 'right'",default:"'right'"},{kind:"field",name:"closeOnEsc",type:"boolean",description:"Closes the drawer when the 'Esc' key is pressed",default:"true"},{kind:"field",name:"closeOnOverlayClick",type:"boolean",description:"Closes the drawer when clicking outside of it",default:"true"},{kind:"field",name:"contained",type:"boolean",description:"Contains the drawer within its parent element",default:"false"}],events:[]}],exports:[{kind:"js",name:"UrNavigationDrawer",declaration:{name:"UrNavigationDrawer",module:"src/components/ur-navigation-drawer/ur-navigation-drawer.tsx"}},{kind:"custom-element-definition",name:"ur-navigation-drawer",declaration:{name:"UrNavigationDrawer",module:"src/components/ur-navigation-drawer/ur-navigation-drawer.tsx"}}]}]};B({...E()||{},...T,modules:[...(E()||{}).modules||[],...T.modules]});const ae=[{label:"English",key:"en",checked:!0},{label:"Spanish",key:"es",checked:!1},{label:"French",key:"fr",checked:!1},{label:"German",key:"de",checked:!0},{label:"Souaxilian",key:"su",checked:!0}],oe=({open:d=!1,placement:t="right",locales:i=ae})=>{const h=a=>{document.getElementsByTagName("ur-locale-filter-button")[0].count=a.filter(s=>s.checked).length},l=a=>{h(a.detail),document.getElementsByTagName("ur-navigation-drawer")[0].closeDrawer()},c=()=>{document.getElementsByTagName("ur-locale-filter-button")[0].selected=!0},u=()=>{document.getElementsByTagName("ur-locale-filter-button")[0].selected=!1};return O`
        <ur-navigation-drawer
            open=${d}
            placement=${t}
            @opened=${c}
            @closed=${u}>
            <ur-locale-filter-panel
                .locales=${i}
                show-header
                show-footer
                @save=${l}
                @cancel=${()=>{u(),document.getElementsByTagName("ur-navigation-drawer")[0].closeDrawer()}}
            ></ur-locale-filter-panel>
        </ur-navigation-drawer>

        <ur-locale-filter-button
            @click=${()=>{c(),document.getElementsByTagName("ur-navigation-drawer")[0].openDrawer()}}
            count=${i.filter(a=>a.checked).length}
        ></ur-locale-filter-button>
    `},Be={title:"urnovl/Business/Navigation Drawer",render:d=>oe(d),argTypes:{open:{control:"boolean"},placement:{control:"select",options:["left","right"]},closeOnEsc:{control:"boolean"},closeOnOverlayClick:{control:"boolean"},contained:{control:"boolean"}}},v={args:{open:!1,placement:"right",closeOnEsc:!0,closeOnOverlayClick:!0,contained:!0}};var P,N,R;v.parameters={...v.parameters,docs:{...(P=v.parameters)==null?void 0:P.docs,source:{originalSource:`{
  args: {
    open: false,
    placement: 'right',
    closeOnEsc: true,
    closeOnOverlayClick: true,
    contained: true
  }
}`,...(R=(N=v.parameters)==null?void 0:N.docs)==null?void 0:R.source}}};const ze=["Default"];export{v as Default,ze as __namedExportsOrder,Be as default};
