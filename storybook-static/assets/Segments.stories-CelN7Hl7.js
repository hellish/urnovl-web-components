import{i as D,k as l}from"./entry-preview-BcHUnPw7.js";import{s as _,g}from"./chunk-L4EGOTBX-2Jzo53v8.js";import{d as M,H as L,h,a as q}from"./index-DrtGFqrN.js";import{k as O,_ as i,n as o,r as E,M as U,d as B,D as H,$ as b,b as v,K as f,f as c,t as x,H as z}from"./index-BmT10YZK.js";import{F,f as y,t as S}from"./form-kvNGPYeq.js";import{n as k,u as G}from"./uniqueId-DvEvAHcu.js";import{d as j}from"./default-value-BL-PCohm.js";import{w as u}from"./watch-ByvFYHv8.js";import{B as R,c as A}from"./button-base-BJTZz6Hf.js";import{n as m}from"./template-yncBVCyc.js";import"./check-DQc-giTO.js";import"./index-DrFu-skq.js";import"./svg-tag-I98LNdtY.js";/**
 * @license
 * Copyright 2021 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */function*N(r,e){if(r!==void 0){let s=0;for(const t of r)yield e(t,s++)}}const C=(r,e)=>{if(r.length!==e.length)return!1;const s=[...r].sort(),t=[...e].sort();return s.every((d,V)=>d===t[V])},P=D`:host{--shape-corner:var(--mdui-shape-corner-full);position:relative;display:inline-flex;vertical-align:middle;height:2.5rem;font-size:var(--mdui-typescale-label-large-size);font-weight:var(--mdui-typescale-label-large-weight);letter-spacing:var(--mdui-typescale-label-large-tracking);line-height:var(--mdui-typescale-label-large-line-height);color:rgb(var(--mdui-color-on-surface));--mdui-comp-ripple-state-layer-color:var(--mdui-color-on-surface)}:host([full-width]){display:flex;flex-wrap:nowrap}input,select{position:absolute;width:100%;height:100%;padding:0;opacity:0;pointer-events:none}`;let n=class extends U{constructor(){super(...arguments),this.fullWidth=!1,this.disabled=!1,this.required=!1,this.name="",this.value="",this.defaultValue="",this.selectedKeys=[],this.invalid=!1,this.isInitial=!0,this.inputRef=B(),this.formController=new F(this),this.definedController=new H(this,{relatedElements:["mdui-segmented-button"]})}get validity(){return this.inputRef.value.validity}get validationMessage(){return this.inputRef.value.validationMessage}get items(){return b(this).find("mdui-segmented-button").get()}get itemsEnabled(){return b(this).find("mdui-segmented-button:not([disabled])").get()}get isSingle(){return this.selects==="single"}get isMultiple(){return this.selects==="multiple"}get isSelectable(){return this.isSingle||this.isMultiple}async onSelectsChange(){this.isSelectable?this.isSingle&&this.setSelectedKeys(this.selectedKeys.slice(0,1)):this.setSelectedKeys([]),await this.onSelectedKeysChange()}async onSelectedKeysChange(){await this.definedController.whenDefined();const e=this.itemsEnabled.filter(t=>this.selectedKeys.includes(t.key)).map(t=>t.value),s=this.isMultiple?e:e[0]||"";this.setValue(s),this.isInitial||this.emit("change")}async onValueChange(){var s;if(this.isInitial=!this.hasUpdated,await this.definedController.whenDefined(),!this.isSelectable){this.updateItems();return}const e=(this.isSingle?[this.value]:v(this.value)?[this.value]:this.value).filter(t=>t);if(!e.length)this.setSelectedKeys([]);else if(this.isSingle){const t=this.itemsEnabled.find(d=>d.value===e[0]);this.setSelectedKeys(t?[t.key]:[])}else this.isMultiple&&this.setSelectedKeys(this.itemsEnabled.filter(t=>e.includes(t.value)).map(t=>t.key));if(this.updateItems(),!this.isInitial){const t=this.formController.getForm();t&&((s=y.get(t))!=null&&s.has(this))?(this.invalid=!1,y.get(t).delete(this)):this.invalid=!this.inputRef.value.checkValidity()}}async onInvalidChange(){await this.definedController.whenDefined(),this.updateItems()}connectedCallback(){super.connectedCallback(),this.value=this.isMultiple&&v(this.value)?this.value?[this.value]:[]:this.value,this.defaultValue=this.selects==="multiple"?[]:""}checkValidity(){const e=this.inputRef.value.checkValidity();return e||this.emit("invalid",{bubbles:!1,cancelable:!0,composed:!1}),e}reportValidity(){return this.invalid=!this.inputRef.value.reportValidity(),this.invalid&&(this.emit("invalid",{bubbles:!1,cancelable:!0,composed:!1})||(this.inputRef.value.blur(),this.inputRef.value.focus())),!this.invalid}setCustomValidity(e){this.inputRef.value.setCustomValidity(e),this.invalid=!this.inputRef.value.checkValidity()}render(){return l`${k(this.isSelectable&&this.isSingle,()=>l`<input ${f(this.inputRef)} type="radio" name="${S(this.name)}" value="1" .disabled="${this.disabled}" .required="${this.required}" .checked="${!!this.value}" tabindex="-1" @keydown="${this.onInputKeyDown}">`)}${k(this.isSelectable&&this.isMultiple,()=>l`<select ${f(this.inputRef)} name="${S(this.name)}" .disabled="${this.disabled}" .required="${this.required}" multiple="multiple" tabindex="-1" @keydown="${this.onInputKeyDown}">${N(this.value,e=>l`<option selected="selected" value="${e}"></option>`)}</select>`)}<slot @slotchange="${this.onSlotChange}" @click="${this.onClick}"></slot>`}selectOne(e){if(this.isMultiple){const s=[...this.selectedKeys];s.includes(e.key)?s.splice(s.indexOf(e.key),1):s.push(e.key),this.setSelectedKeys(s)}this.isSingle&&(this.selectedKeys.includes(e.key)?this.setSelectedKeys([]):this.setSelectedKeys([e.key])),this.isInitial=!1,this.updateItems()}async onClick(e){if(e.button)return;await this.definedController.whenDefined();const t=e.target.closest("mdui-segmented-button");!t||t.disabled||this.isSelectable&&t.value&&this.selectOne(t)}async onInputKeyDown(e){if(["Enter"," "].includes(e.key)){if(e.preventDefault(),await this.definedController.whenDefined(),this.isSingle){const s=e.target;s.checked=!s.checked,this.selectOne(this.itemsEnabled[0]),this.itemsEnabled[0].focus()}this.isMultiple&&(this.selectOne(this.itemsEnabled[0]),this.itemsEnabled[0].focus())}}async onSlotChange(){await this.definedController.whenDefined(),this.updateItems(!0)}setSelectedKeys(e){C(this.selectedKeys,e)||(this.selectedKeys=e)}setValue(e){this.isSingle?this.value=e:C(this.value,e)||(this.value=e)}updateItems(e=!1){const s=this.items;s.forEach((t,d)=>{t.invalid=this.invalid,t.groupDisabled=this.disabled,t.selected=this.selectedKeys.includes(t.key),e&&(t.classList.toggle("mdui-segmented-button-first",d===0),t.classList.toggle("mdui-segmented-button-last",d===s.length-1))})}};n.styles=[O,P];i([o({type:Boolean,reflect:!0,converter:c,attribute:"full-width"})],n.prototype,"fullWidth",void 0);i([o({reflect:!0})],n.prototype,"selects",void 0);i([o({type:Boolean,reflect:!0,converter:c})],n.prototype,"disabled",void 0);i([o({type:Boolean,reflect:!0,converter:c})],n.prototype,"required",void 0);i([o({reflect:!0})],n.prototype,"form",void 0);i([o({reflect:!0})],n.prototype,"name",void 0);i([o()],n.prototype,"value",void 0);i([j()],n.prototype,"defaultValue",void 0);i([E()],n.prototype,"selectedKeys",void 0);i([E()],n.prototype,"invalid",void 0);i([u("selects",!0)],n.prototype,"onSelectsChange",null);i([u("selectedKeys",!0)],n.prototype,"onSelectedKeysChange",null);i([u("value")],n.prototype,"onValueChange",null);i([u("invalid",!0),u("disabled")],n.prototype,"onInvalidChange",null);n=i([x("mdui-segmented-button-group")],n);const T=D`:host{position:relative;display:inline-flex;flex-grow:1;flex-shrink:0;float:left;height:100%;overflow:hidden;cursor:pointer;-webkit-tap-highlight-color:transparent;border:.0625rem solid rgb(var(--mdui-color-outline))}.button{width:100%;padding:0 .75rem}:host([invalid]){color:rgb(var(--mdui-color-error));border-color:rgb(var(--mdui-color-error))}:host([invalid]) .button{background-color:rgb(var(--mdui-color-error-container))}:host([selected]){color:rgb(var(--mdui-color-on-secondary-container));background-color:rgb(var(--mdui-color-secondary-container));--mdui-comp-ripple-state-layer-color:var(
      --mdui-color-on-secondary-container
    )}:host([disabled]),:host([group-disabled]){cursor:default;pointer-events:none;color:rgba(var(--mdui-color-on-surface),38%);border-color:rgba(var(--mdui-color-on-surface),12%)}:host([loading]){cursor:default;pointer-events:none}:host(:not(.mdui-segmented-button-first)){margin-left:-.0625rem}:host(.mdui-segmented-button-first){border-radius:var(--shape-corner) 0 0 var(--shape-corner)}:host(.mdui-segmented-button-last){border-radius:0 var(--shape-corner) var(--shape-corner) 0}.end-icon,.icon,.selected-icon{display:inline-flex;font-size:1.28571429em}.end-icon .i,.icon .i,.selected-icon .i,::slotted([slot=end-icon]),::slotted([slot=icon]),::slotted([slot=selected-icon]){font-size:inherit}mdui-circular-progress{width:1.125rem;height:1.125rem}:host([disabled]) mdui-circular-progress{opacity:.38}.label{display:inline-flex}.has-icon .label{padding-left:.5rem}.has-end-icon .label{padding-right:.5rem}`;let a=class extends R{constructor(){super(...arguments),this.selected=!1,this.invalid=!1,this.groupDisabled=!1,this.key=G(),this.rippleRef=B(),this.hasSlotController=new z(this,"[default]","icon","end-icon")}get rippleElement(){return this.rippleRef.value}get rippleDisabled(){return this.isDisabled()||this.loading}get focusDisabled(){return this.isDisabled()||this.loading}render(){const e=A({button:!0,"has-icon":this.icon||this.selected||this.loading||this.hasSlotController.test("icon"),"has-end-icon":this.endIcon||this.hasSlotController.test("end-icon")});return l`<mdui-ripple ${f(this.rippleRef)} .noRipple="${this.noRipple}"></mdui-ripple>${this.isButton()?this.renderButton({className:e,part:"button",content:this.renderInner()}):this.isDisabled()||this.loading?l`<span part="button" class="_a ${e}">${this.renderInner()}</span>`:this.renderAnchor({className:e,part:"button",content:this.renderInner()})}`}isDisabled(){return this.disabled||this.groupDisabled}renderIcon(){return this.loading?this.renderLoading():this.selected?l`<slot name="selected-icon" part="selected-icon" class="selected-icon">${this.selectedIcon?l`<mdui-icon name="${this.selectedIcon}" class="i"></mdui-icon>`:l`<mdui-icon-check class="i"></mdui-icon-check>`}</slot>`:l`<slot name="icon" part="icon" class="icon">${this.icon?l`<mdui-icon name="${this.icon}" class="i"></mdui-icon>`:m}</slot>`}renderLabel(){return this.hasSlotController.test("[default]")?l`<slot part="label" class="label"></slot>`:m}renderEndIcon(){return l`<slot name="end-icon" part="end-icon" class="end-icon">${this.endIcon?l`<mdui-icon name="${this.endIcon}" class="i"></mdui-icon>`:m}</slot>`}renderInner(){return[this.renderIcon(),this.renderLabel(),this.renderEndIcon()]}};a.styles=[R.styles,T];i([o({reflect:!0})],a.prototype,"icon",void 0);i([o({reflect:!0,attribute:"end-icon"})],a.prototype,"endIcon",void 0);i([o({reflect:!0,attribute:"selected-icon"})],a.prototype,"selectedIcon",void 0);i([o({type:Boolean,reflect:!0,converter:c})],a.prototype,"selected",void 0);i([o({type:Boolean,reflect:!0,converter:c})],a.prototype,"invalid",void 0);i([o({type:Boolean,reflect:!0,converter:c,attribute:"group-disabled"})],a.prototype,"groupDisabled",void 0);a=i([x("mdui-segmented-button")],a);const W="",J=class extends L{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.likeLabel="2.5k"}render(){return h(q,{key:"55b3ac273b8f4ce12fb5472f441ebb18ce7f1d30"},h("mdui-segmented-button-group",{key:"1794b5c86324e4a56b244f9ff470a07b72c6e43d",selects:"single"},h("mdui-segmented-button",{key:"8867253c91ba5a4d05226c5de1a57b0c048b8455",icon:"thumb_up--outlined","selected-icon":"thumb_up",value:"like"},this.likeLabel),h("mdui-segmented-button",{key:"c43abcd2c980b6eafaf906c51784a89e1f1ec092",icon:"thumb_down--outlined","selected-icon":"thumb_down",value:"dislike"})))}static get style(){return W}};M(J,[1,"ur-segment-button",{likeLabel:[1,"like-label"]}]);const w={schemaVersion:"1.0.0",modules:[{kind:"javascript-module",path:"",declarations:[{kind:"class",name:"UrSegment",tagName:"ur-segment-button",customElement:!0,members:[{kind:"field",name:"likeLabel",type:"string",description:"",default:"'2.5k'"}],events:[]}],exports:[{kind:"js",name:"UrSegment",declaration:{name:"UrSegment",module:"src/components/ur-segment-button/ur-segment-button.tsx"}},{kind:"custom-element-definition",name:"ur-segment-button",declaration:{name:"UrSegment",module:"src/components/ur-segment-button/ur-segment-button.tsx"}}]}]};_({...g()||{},...w,modules:[...(g()||{}).modules||[],...w.modules]});const Q=({})=>l`
    <ur-segment-button>
    </ur-segment-button>
`,he={title:"Core/Segment Buttons",render:r=>Q(r),argTypes:{}},p={args:{}};var I,$,K;p.parameters={...p.parameters,docs:{...(I=p.parameters)==null?void 0:I.docs,source:{originalSource:`{
  args: {}
}`,...(K=($=p.parameters)==null?void 0:$.docs)==null?void 0:K.source}}};const pe=["Default"];export{p as Default,pe as __namedExportsOrder,he as default};
