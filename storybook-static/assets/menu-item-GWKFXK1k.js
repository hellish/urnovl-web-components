import{$ as m,_ as s,c as k,d as f,H as R,D as T,g as E,K as p,k as I,n as u,r as h,f as y,M as S}from"./get-w4emotEH.js";import{h as $,i as D,k as o}from"./entry-preview-BcHUnPw7.js";import{n as M}from"./when-BxLAFfhK.js";import{A as z,c as L}from"./anchor-ClLaGEwM.js";import{c as P,R as B,F as A}from"./index-D2jzjD89.js";import{w as F}from"./watch-ByvFYHv8.js";import{g,a as w,s as C,b}from"./motion-Dvf13IR2.js";import{n as O}from"./template-yncBVCyc.js";import{u as K}from"./uniqueId-Bqzl4fNd.js";import{s as U,a as Y}from"./svg-tag-DDFZdwWr.js";import"./check-ZIEdMJI8.js";m.contains=P;let v=class extends ${render(){return Y('<path d="m10 17 5-5-5-5v10z"/>')}};v.styles=U;v=s([k("mdui-icon-arrow-right")],v);const H=D`:host{position:relative;display:block}:host([selected]){background-color:rgba(var(--mdui-color-primary),12%)}:host([disabled]:not([disabled=false i])){pointer-events:none}.container{cursor:pointer;-webkit-user-select:none;user-select:none;-webkit-tap-highlight-color:transparent}:host([disabled]:not([disabled=false i])) .container{cursor:default;opacity:.38}.preset{display:flex;align-items:center;text-decoration:none;height:3rem;padding:0 .75rem}.preset.dense{height:2rem}.label-container{flex:1 1 100%;min-width:0}.label{display:block;overflow:hidden;white-space:nowrap;text-overflow:ellipsis;color:rgb(var(--mdui-color-on-surface));font-size:var(--mdui-typescale-label-large-size);font-weight:var(--mdui-typescale-label-large-weight);letter-spacing:var(--mdui-typescale-label-large-tracking)}.end-icon,.end-text,.icon,.selected-icon{display:none;flex:0 0 auto;color:rgb(var(--mdui-color-on-surface-variant))}.has-end-icon .end-icon,.has-end-text .end-text,.has-icon .icon,.has-icon .selected-icon{display:flex}.end-icon,.icon,.selected-icon{font-size:1.5rem}.end-icon::slotted(mdui-avatar),.icon::slotted(mdui-avatar),.selected-icon::slotted(mdui-avatar){width:1.5rem;height:1.5rem}.dense .end-icon,.dense .icon,.dense .selected-icon{font-size:1.125rem}.dense .end-icon::slotted(mdui-avatar),.dense .icon::slotted(mdui-avatar),.dense .selected-icon::slotted(mdui-avatar){width:1.125rem;height:1.125rem}.end-icon .i,.icon .i,.selected-icon .i,::slotted([slot=end-icon]),::slotted([slot=icon]),::slotted([slot=selected-icon]){font-size:inherit}.end-text{font-size:var(--mdui-typescale-label-large-size);font-weight:var(--mdui-typescale-label-large-weight);letter-spacing:var(--mdui-typescale-label-large-tracking);line-height:var(--mdui-typescale-label-large-line-height)}.icon,.selected-icon{margin-right:.75rem}.end-icon,.end-text{margin-left:.75rem}.arrow-right{color:rgb(var(--mdui-color-on-surface))}.submenu{--shape-corner:var(--mdui-shape-corner-extra-small);display:block;position:absolute;z-index:1;border-radius:var(--shape-corner);background-color:rgb(var(--mdui-color-surface-container));box-shadow:var(--mdui-elevation-level2);min-width:7rem;max-width:17.5rem;padding-top:.5rem;padding-bottom:.5rem;--mdui-comp-ripple-state-layer-color:var(--mdui-color-on-surface)}.submenu::slotted(mdui-divider){margin-top:.5rem;margin-bottom:.5rem}`;let t=class extends z(B(A(S))){constructor(){super(),this.disabled=!1,this.submenuOpen=!1,this.selected=!1,this.dense=!1,this.focusable=!1,this.key=K(),this.rippleRef=f(),this.containerRef=f(),this.submenuRef=f(),this.hasSlotController=new R(this,"[default]","icon","end-icon","end-text","submenu","custom"),this.definedController=new T(this,{relatedElements:[""]}),this.onOuterClick=this.onOuterClick.bind(this),this.onFocus=this.onFocus.bind(this),this.onBlur=this.onBlur.bind(this),this.onClick=this.onClick.bind(this),this.onKeydown=this.onKeydown.bind(this),this.onMouseEnter=this.onMouseEnter.bind(this),this.onMouseLeave=this.onMouseLeave.bind(this)}get focusDisabled(){return this.disabled||!this.focusable}get focusElement(){return this.href&&!this.disabled?this.containerRef.value:this}get rippleDisabled(){return this.disabled}get rippleElement(){return this.rippleRef.value}get hasSubmenu(){return this.hasSlotController.test("submenu")}async onOpenChange(){const e=this.hasUpdated;if(!this.submenuOpen&&!e)return;await this.definedController.whenDefined(),e||await this.updateComplete;const r=g(this,"linear"),i=g(this,"emphasized-decelerate"),l=g(this,"emphasized-accelerate");if(this.submenuOpen){if(e&&!this.emit("submenu-open",{cancelable:!0}))return;const a=w(this,"medium4");await C(this.submenuRef.value),this.submenuRef.value.hidden=!1,this.updateSubmenuPositioner(),await Promise.all([b(this.submenuRef.value,[{transform:"scaleY(0.45)"},{transform:"scaleY(1)"}],{duration:e?a:0,easing:i}),b(this.submenuRef.value,[{opacity:0},{opacity:1,offset:.125},{opacity:1}],{duration:e?a:0,easing:r})]),e&&this.emit("submenu-opened")}else{if(!this.emit("submenu-close",{cancelable:!0}))return;const n=w(this,"short4");await C(this.submenuRef.value),await Promise.all([b(this.submenuRef.value,[{transform:"scaleY(1)"},{transform:"scaleY(0.45)"}],{duration:n,easing:l}),b(this.submenuRef.value,[{opacity:1},{opacity:1,offset:.875},{opacity:0}],{duration:n,easing:r})]),this.submenuRef.value&&(this.submenuRef.value.hidden=!0),this.emit("submenu-closed")}}connectedCallback(){super.connectedCallback(),this.definedController.whenDefined().then(()=>{document.addEventListener("pointerdown",this.onOuterClick)})}disconnectedCallback(){super.disconnectedCallback(),document.removeEventListener("pointerdown",this.onOuterClick)}firstUpdated(e){super.firstUpdated(e),this.definedController.whenDefined().then(()=>{this.addEventListener("focus",this.onFocus),this.addEventListener("blur",this.onBlur),this.addEventListener("click",this.onClick),this.addEventListener("keydown",this.onKeydown),this.addEventListener("mouseenter",this.onMouseEnter),this.addEventListener("mouseleave",this.onMouseLeave)})}render(){const e=this.hasSubmenu,r=this.hasSlotController.test("custom"),i=this.hasSlotController.test("end-icon"),l=!this.endIcon&&e&&!i,a=this.endIcon||e||i,n=!E(this.icon)||this.selects==="single"||this.selects==="multiple"||this.hasSlotController.test("icon"),c=!!this.endText||this.hasSlotController.test("end-text"),d=L({container:!0,dense:this.dense,preset:!r,"has-icon":n,"has-end-text":c,"has-end-icon":a});return o`<mdui-ripple ${p(this.rippleRef)} .noRipple="${this.noRipple}"></mdui-ripple>${this.href&&!this.disabled?this.renderAnchor({part:"container",className:d,content:this.renderInner(l,n),refDirective:p(this.containerRef),tabIndex:this.focusable?0:-1}):o`<div part="container" ${p(this.containerRef)} class="${d}">${this.renderInner(l,n)}</div>`} ${M(e,()=>o`<slot name="submenu" ${p(this.submenuRef)} part="submenu" class="submenu" hidden></slot>`)}`}onOuterClick(e){!this.disabled&&this.submenuOpen&&this!==e.target&&!m.contains(this,e.target)&&(this.submenuOpen=!1)}hasTrigger(e){return this.submenuTrigger?this.submenuTrigger.split(" ").includes(e):!1}onFocus(){this.disabled||this.submenuOpen||!this.hasTrigger("focus")||!this.hasSubmenu||(this.submenuOpen=!0)}onBlur(){this.disabled||!this.submenuOpen||!this.hasTrigger("focus")||!this.hasSubmenu||(this.submenuOpen=!1)}onClick(e){this.disabled||e.button||!this.hasTrigger("click")||e.target!==this||!this.hasSubmenu||this.submenuOpen&&(this.hasTrigger("hover")||this.hasTrigger("focus"))||(this.submenuOpen=!this.submenuOpen)}onKeydown(e){this.disabled||!this.hasSubmenu||(!this.submenuOpen&&e.key==="Enter"&&(e.stopPropagation(),this.submenuOpen=!0),this.submenuOpen&&e.key==="Escape"&&(e.stopPropagation(),this.submenuOpen=!1))}onMouseEnter(){this.disabled||!this.hasTrigger("hover")||!this.hasSubmenu||(window.clearTimeout(this.submenuCloseTimeout),this.submenuOpenDelay?this.submenuOpenTimeout=window.setTimeout(()=>{this.submenuOpen=!0},this.submenuOpenDelay):this.submenuOpen=!0)}onMouseLeave(){this.disabled||!this.hasTrigger("hover")||!this.hasSubmenu||(window.clearTimeout(this.submenuOpenTimeout),this.submenuCloseTimeout=window.setTimeout(()=>{this.submenuOpen=!1},this.submenuCloseDelay||50))}updateSubmenuPositioner(){const e=m(window),r=m(this.submenuRef.value),i=this.getBoundingClientRect(),l=r.innerWidth(),a=r.innerHeight(),n=8;let c="bottom",d="right";e.height()-i.top>a+n?c="bottom":i.top+i.height>a+n&&(c="top"),e.width()-i.left-i.width>l+n?d="right":i.left>l+n&&(d="left"),m(this.submenuRef.value).css({top:c==="bottom"?0:i.height-a,left:d==="right"?i.width:-l,transformOrigin:[d==="right"?0:"100%",c==="bottom"?0:"100%"].join(" ")})}renderInner(e,r){return o`<slot name="custom">${this.selected?o`<slot name="selected-icon" part="selected-icon" class="selected-icon">${this.selectedIcon?o`<mdui-icon name="${this.selectedIcon}" class="i"></mdui-icon>`:o`<mdui-icon-check class="i"></mdui-icon-check>`}</slot>`:o`<slot name="icon" part="icon" class="icon">${r?o`<mdui-icon name="${this.icon}" class="i"></mdui-icon>`:O}</slot>`}<div class="label-container"><slot part="label" class="label"></slot></div><slot name="end-text" part="end-text" class="end-text">${this.endText}</slot>${e?o`<mdui-icon-arrow-right part="end-icon" class="end-icon arrow-right"></mdui-icon-arrow-right>`:o`<slot name="end-icon" part="end-icon" class="end-icon">${this.endIcon?o`<mdui-icon name="${this.endIcon}"></mdui-icon>`:O}</slot>`}</slot>`}};t.styles=[I,H];s([u({reflect:!0})],t.prototype,"value",void 0);s([u({type:Boolean,reflect:!0,converter:y})],t.prototype,"disabled",void 0);s([u({reflect:!0})],t.prototype,"icon",void 0);s([u({reflect:!0,attribute:"end-icon"})],t.prototype,"endIcon",void 0);s([u({reflect:!0,attribute:"end-text"})],t.prototype,"endText",void 0);s([u({reflect:!0,attribute:"selected-icon"})],t.prototype,"selectedIcon",void 0);s([u({type:Boolean,reflect:!0,converter:y,attribute:"submenu-open"})],t.prototype,"submenuOpen",void 0);s([u({type:Boolean,reflect:!0,converter:y})],t.prototype,"selected",void 0);s([h()],t.prototype,"dense",void 0);s([h()],t.prototype,"selects",void 0);s([h()],t.prototype,"submenuTrigger",void 0);s([h()],t.prototype,"submenuOpenDelay",void 0);s([h()],t.prototype,"submenuCloseDelay",void 0);s([h()],t.prototype,"focusable",void 0);s([F("submenuOpen")],t.prototype,"onOpenChange",null);t=s([k("mdui-menu-item")],t);
