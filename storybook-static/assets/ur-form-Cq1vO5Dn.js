import{s as n,g as s}from"./chunk-L4EGOTBX-2Jzo53v8.js";import"./entry-preview-BcHUnPw7.js";import{d as l,H as d,c as o,h as a,a as f}from"./index-BJvbtjhH.js";const h="",c=class extends d{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.formValid=o(this,"formValid",7),this.formInvalid=o(this,"formInvalid",7),this.formDataChanged=o(this,"formDataChanged",7),this.formData={},this.formErrors={}}handleValueChanged(r){const{name:e,value:t}=r.detail;this.formData[e]=t,this.emitFormState()}handleErrorStateChanged(r){const{name:e,error:t,message:m}=r.detail;t?this.formErrors[e]=m||"Invalid input.":delete this.formErrors[e],console.log("Updated formErrors after errorStateChanged:",this.formErrors),this.emitFormState()}validateAllFields(){const r=Array.from(this.el.querySelectorAll("ur-text-field"));this.formErrors={},r.forEach(e=>{e.error&&(this.formErrors[e.name]=e.errorMessage||"Invalid input.")}),this.emitFormState()}async submitForm(){this.validateAllFields(),Object.keys(this.formErrors).length===0?this.formValid.emit():this.formInvalid.emit({errors:this.formErrors})}async resetForm(){Array.from(this.el.querySelectorAll("ur-text-field")).forEach(e=>{e.value="",e.error=!1}),this.formData={},this.formErrors={},this.emitFormState()}emitFormState(){const r=Array.from(this.el.querySelectorAll("ur-text-field"));this.formErrors={},r.forEach(e=>{e.error&&(this.formErrors[e.name]=e.errorMessage||"Invalid input.")}),console.log("Final state of formErrors:",this.formErrors),Object.keys(this.formErrors).length===0?(console.log("Emitting formValid event"),this.formValid.emit()):(console.log("Emitting formInvalid event"),this.formInvalid.emit({errors:this.formErrors})),this.formDataChanged.emit(this.formData)}render(){return a(f,{key:"d8efb5006fcb543f4de0572e25b8dab45c7e336c"},a("slot",{key:"6f3fd0c0e1b68a57d79f1e081eec46d47a3da6c8"}))}get el(){return this}static get style(){return h}};l(c,[1,"ur-form",{submitForm:[64],resetForm:[64]},[[0,"valueChanged","handleValueChanged"],[0,"errorStateChanged","handleErrorStateChanged"]]]);const i={schemaVersion:"1.0.0",modules:[{kind:"javascript-module",path:"",declarations:[{kind:"class",name:"UrForm",tagName:"ur-form",customElement:!0,members:[],events:[{kind:"event",name:"formValid",description:"Event emitted when the form is valid"},{kind:"event",name:"formInvalid",description:"Event emitted when the form is invalid"},{kind:"event",name:"formDataChanged",description:"Event emitted whenever the form data changes"}]}],exports:[{kind:"js",name:"UrForm",declaration:{name:"UrForm",module:"src/components/ur-form/ur-form.tsx"}},{kind:"custom-element-definition",name:"ur-form",declaration:{name:"UrForm",module:"src/components/ur-form/ur-form.tsx"}}]}]};n({...s()||{},...i,modules:[...(s()||{}).modules||[],...i.modules]});
