import{i as I,k as D}from"./entry-preview-BcHUnPw7.js";import{s as U,g as M}from"./chunk-L4EGOTBX-2Jzo53v8.js";import{d as F,H as _,c as P,h as C,a as H}from"./index-Dnt4yWMo.js";import{m as W,o as q,p as X,$ as b,g as j,k as V,_ as c,n as m,D as K,b as G,d as v,c as J,q as Q}from"./get-D9DBDJjp.js";import{i as $,K as B}from"./class-map-DirLTUPi.js";import{n as Y}from"./when-BxLAFfhK.js";import"./ripple-mixin-Baxn-44g.js";import{w}from"./watch-ByvFYHv8.js";import{g as O,a as R,b as y,s as Z}from"./motion-DSL5gj4j.js";import{l as T,u as x,M as ee}from"./scroll-B05xjps2.js";import{o as te}from"./observeResize-DYL0_NZ3.js";import{L as ne}from"./layout-item-base-DHAFVIi5.js";import"./ur-locale-filter-panel-ge4TK-cx.js";import"./index-DrFu-skq.js";import"./index-BXDV2pmF.js";import"./uniqueId-Bqzl4fNd.js";import"./index-s090kVPT.js";import"./template-yncBVCyc.js";import"./button-base-ETGWZztw.js";import"./if-defined-CL77Dv0Z.js";import"./anchor-Bt_5eb2T.js";import"./form-D6WTgxde.js";import"./ur-button-icon-Ds7zWxxD.js";import"./index-CTeXfnxQ.js";import"./index-Ce28mpJG.js";import"./live-BrcR7EIG.js";import"./default-value-4Lb4bBXQ.js";import"./svg-tag-vg7NTGHU.js";const ae=l=>{const n=W(),r=q(),h=n.getComputedStyle(r.documentElement),d=X(l)?b(l).innerWidth():j(l)?l:b(n).innerWidth(),u=a=>{const t=h.getPropertyValue(`--mdui-breakpoint-${a}`).toLowerCase();return parseFloat(t)},p=a=>{switch(a){case"xs":return"sm";case"sm":return"md";case"md":return"lg";case"lg":return"xl";case"xl":return"xxl"}};return{up(a){return d>=u(a)},down(a){return d<u(a)},only(a){return a==="xxl"?this.up(a):this.up(a)&&this.down(p(a))},not(a){return!this.only(a)},between(a,t){return this.up(a)&&this.down(t)}}},ie=I`:host{--shape-corner:var(--mdui-shape-corner-large);--z-index:2200;display:none;position:fixed;top:0;bottom:0;left:0;z-index:1;width:22.5rem}:host([placement=right]){left:initial;right:0}:host([mobile]),:host([modal]:not([modal=false i])){top:0!important;right:0;bottom:0!important;width:initial;z-index:var(--z-index)}:host([placement=right][mobile]),:host([placement=right][modal]:not([modal=false i])){left:0}:host([contained]:not([contained=false i])){position:absolute}.overlay{position:absolute;inset:0;z-index:inherit;background-color:rgba(var(--mdui-color-scrim),.4)}.panel{display:block;position:absolute;top:0;bottom:0;left:0;width:100%;overflow:auto;z-index:inherit;background-color:rgb(var(--mdui-color-surface));box-shadow:var(--mdui-elevation-level0)}:host([mobile]) .panel,:host([modal]:not([modal=false i])) .panel{border-radius:0 var(--shape-corner) var(--shape-corner) 0;max-width:80%;width:22.5rem;background-color:rgb(var(--mdui-color-surface-container-low));box-shadow:var(--mdui-elevation-level1)}:host([placement=right]) .panel{left:initial;right:0}:host([placement=right][mobile]) .panel,:host([placement=right][modal]:not([modal=false i])) .panel{border-radius:var(--shape-corner) 0 0 var(--shape-corner)}`;let s=class extends ne{constructor(){super(...arguments),this.open=!1,this.modal=!1,this.closeOnEsc=!1,this.closeOnOverlayClick=!1,this.placement="left",this.contained=!1,this.mobile=!1,this.overlayRef=$(),this.panelRef=$(),this.definedController=new K(this,{needDomReady:!0})}get layoutPlacement(){return this.placement}get lockTarget(){return this.contained||this.isParentLayout?this.parentElement:document.documentElement}get isModal(){return this.mobile||this.modal}async onContainedChange(){var n;await this.definedController.whenDefined(),(n=this.observeResize)==null||n.unobserve(),this.setObserveResize()}onPlacementChange(){this.isParentLayout&&this.layoutManager.updateLayout(this)}async onMobileChange(){!this.open||this.isParentLayout||this.contained||(await this.definedController.whenDefined(),this.isModal?(T(this,this.lockTarget),await this.getLockTargetAnimate(!1,0)):(x(this,this.lockTarget),await this.getLockTargetAnimate(!0,0)))}async onOpenChange(){let n=this.panelRef.value,r=this.overlayRef.value;const h=this.placement==="right",d=O(this,"linear"),u=O(this,"emphasized"),p=(t,o)=>{b(this.layoutManager.getItemsAndMain()).css("transition",Q(t)?null:`all ${t}ms ${o}`)},a=async()=>{const t=[];if(this.isModal?t.push(r,n):this.isParentLayout||t.push(this.lockTarget),this.isParentLayout){const o=this.layoutManager.getItemsAndMain(),e=o.indexOf(this);t.push(...o.slice(e))}!this.isModal&&!t.includes(this)&&t.push(this),await Promise.all(t.map(o=>Z(o)))};if(this.open){const t=this.hasUpdated;if(t||(await this.updateComplete,n=this.panelRef.value,r=this.overlayRef.value),t&&!this.emit("open",{cancelable:!0}))return;await this.definedController.whenDefined(),this.style.display="block",this.originalTrigger=document.activeElement,this.isModal&&(this.modalHelper.activate(),this.contained||T(this,this.lockTarget)),await a(),requestAnimationFrame(()=>{const i=this.querySelector("[autofocus]");i?i.focus({preventScroll:!0}):n.focus({preventScroll:!0})});const o=R(this,"long2"),e=[];if(this.isModal?e.push(y(r,[{opacity:0},{opacity:1,offset:.3},{opacity:1}],{duration:t?o:0,easing:d})):this.isParentLayout||e.push(this.getLockTargetAnimate(!0,t?o:0)),this.isParentLayout&&t&&(p(o,u),this.layoutManager.updateLayout(this)),e.push(y(this.isModal?n:this,[{transform:`translateX(${h?"":"-"}100%)`},{transform:"translateX(0)"}],{duration:t?o:0,easing:u})),await Promise.all(e),!this.open)return;this.isParentLayout&&t&&p(null),t&&this.emit("opened")}else if(this.hasUpdated){if(!this.emit("close",{cancelable:!0}))return;await this.definedController.whenDefined(),this.isModal&&this.modalHelper.deactivate(),await a();const o=R(this,"short4"),e=[];if(this.isModal?e.push(y(r,[{opacity:1},{opacity:0}],{duration:o,easing:d})):this.isParentLayout||e.push(this.getLockTargetAnimate(!1,o)),this.isParentLayout&&(p(o,u),this.layoutManager.updateLayout(this,{width:0})),e.push(y(this.isModal?n:this,[{transform:"translateX(0)"},{transform:`translateX(${h?"":"-"}100%)`}],{duration:o,easing:u})),await Promise.all(e),this.open)return;this.isParentLayout&&p(null),this.style.display="none",this.isModal&&!this.contained&&x(this,this.lockTarget);const i=this.originalTrigger;G(i==null?void 0:i.focus)&&setTimeout(()=>i.focus()),this.emit("closed")}}connectedCallback(){super.connectedCallback(),this.modalHelper=new ee(this),this.definedController.whenDefined().then(()=>{this.setObserveResize()})}disconnectedCallback(){var n;super.disconnectedCallback(),x(this,this.lockTarget),(n=this.observeResize)==null||n.unobserve()}firstUpdated(n){super.firstUpdated(n),this.addEventListener("keydown",r=>{this.open&&this.closeOnEsc&&r.key==="Escape"&&this.isModal&&(r.stopPropagation(),this.open=!1)})}render(){return D`${Y(this.isModal,()=>D`<div ${B(this.overlayRef)} part="overlay" class="overlay" @click="${this.onOverlayClick}"></div>`)}<slot ${B(this.panelRef)} part="panel" class="panel" tabindex="0"></slot>`}setObserveResize(){this.observeResize=te(this.contained?this.parentElement:document.documentElement,()=>{const n=this.contained?this.parentElement:void 0;this.mobile=ae(n).down("md"),this.isParentLayout&&this.layoutManager.updateLayout(this,{width:this.isModal?0:void 0})})}onOverlayClick(){this.emit("overlay-click"),this.closeOnOverlayClick&&(this.open=!1)}getLockTargetAnimate(n,r){const h=this.placement==="right"?"paddingRight":"paddingLeft",d=b(this.panelRef.value).innerWidth()+"px";return y(this.lockTarget,[{[h]:n?0:d},{[h]:n?d:0}],{duration:r,easing:O(this,"emphasized"),fill:"forwards"})}};s.styles=[V,ie];c([m({type:Boolean,reflect:!0,converter:v})],s.prototype,"open",void 0);c([m({type:Boolean,reflect:!0,converter:v})],s.prototype,"modal",void 0);c([m({type:Boolean,reflect:!0,converter:v,attribute:"close-on-esc"})],s.prototype,"closeOnEsc",void 0);c([m({type:Boolean,reflect:!0,converter:v,attribute:"close-on-overlay-click"})],s.prototype,"closeOnOverlayClick",void 0);c([m({reflect:!0})],s.prototype,"placement",void 0);c([m({type:Boolean,reflect:!0,converter:v})],s.prototype,"contained",void 0);c([m({type:Boolean,reflect:!0,converter:v})],s.prototype,"mobile",void 0);c([w("contained",!0)],s.prototype,"onContainedChange",null);c([w("placement",!0)],s.prototype,"onPlacementChange",null);c([w("mobile",!0),w("modal",!0)],s.prototype,"onMobileChange",null);c([w("open")],s.prototype,"onOpenChange",null);s=c([J("mdui-navigation-drawer")],s);const oe=":host{display:block;position:relative}:host mdui-navigation-drawer{width:300px;background-color:#ffffff;box-shadow:0 4px 10px rgba(0, 0, 0, 0.2)}:host mdui-navigation-drawer[placement='right']{right:0}:host mdui-navigation-drawer[placement='left']{left:0}:host .slot-content{padding:16px}",se=class extends _{constructor(){super(),this.__registerHost(),this.opened=P(this,"opened",7),this.closed=P(this,"closed",7),this.open=!1,this.placement="right",this.closeOnEsc=!0,this.closeOnOverlayClick=!0,this.contained=!1}componentDidLoad(){this.drawerElement=this.el.querySelector("mdui-navigation-drawer");const l=window.mdui;l&&l.mutation(),this.drawerElement.addEventListener("opened",()=>this.opened.emit()),this.drawerElement.addEventListener("closed",()=>this.closed.emit())}async openDrawer(){this.drawerElement.open=!0,this.open=!0}async closeDrawer(){this.drawerElement.open=!1,this.open=!1}render(){return C(H,{key:"17048eea26fa901409f1d8de7b1c51308f0aadae"},C("mdui-navigation-drawer",{key:"6ecc33bc067e1f5e7523f0ebc4547f6264f0a565",placement:this.placement,modal:!0,"close-on-esc":this.closeOnEsc,"close-on-overlay-click":this.closeOnOverlayClick,contained:this.contained,open:this.open},C("slot",{key:"eeb408cf393d9a25365056bcf2723264f98073f4"})))}get el(){return this}static get style(){return oe}};F(se,[4,"ur-navigation-drawer",{open:[1540],placement:[1],closeOnEsc:[4,"close-on-esc"],closeOnOverlayClick:[4,"close-on-overlay-click"],contained:[4],openDrawer:[64],closeDrawer:[64]}]);const S={schemaVersion:"1.0.0",modules:[{kind:"javascript-module",path:"",declarations:[{kind:"class",name:"UrNavigationDrawer",tagName:"ur-navigation-drawer",customElement:!0,members:[{kind:"field",name:"open",type:"boolean",description:"Determines if the drawer is open",default:"false"},{kind:"field",name:"placement",type:"string",description:"Placement of the drawer: 'left' or 'right'",default:"'right'"},{kind:"field",name:"closeOnEsc",type:"boolean",description:"Closes the drawer when the 'Esc' key is pressed",default:"true"},{kind:"field",name:"closeOnOverlayClick",type:"boolean",description:"Closes the drawer when clicking outside of it",default:"true"},{kind:"field",name:"contained",type:"boolean",description:"Contains the drawer within its parent element",default:"false"}],events:[{kind:"event",name:"opened",description:"Event emitted when the drawer is opened"},{kind:"event",name:"closed",description:"Event emitted when the drawer is closed"}]}],exports:[{kind:"js",name:"UrNavigationDrawer",declaration:{name:"UrNavigationDrawer",module:"src/components/ur-navigation-drawer/ur-navigation-drawer.tsx"}},{kind:"custom-element-definition",name:"ur-navigation-drawer",declaration:{name:"UrNavigationDrawer",module:"src/components/ur-navigation-drawer/ur-navigation-drawer.tsx"}}]}]};U({...M()||{},...S,modules:[...(M()||{}).modules||[],...S.modules]});let g=[{label:"English",key:"en",checked:!0},{label:"Spanish",key:"es",checked:!1},{label:"French",key:"fr",checked:!1},{label:"German",key:"de",checked:!0},{label:"Souaxilian",key:"su",checked:!0}];const re=({open:l=!1,placement:n="right",closeOnEsc:r=!0,closeOnOverlayClick:h=!0,contained:d=!0})=>{const u=()=>{const e=document.getElementById("locale-filter-button");e&&(e.count=g.filter(i=>i.checked).length)},p=e=>{const i=e.detail,E=document.getElementById("ur-navigation-drawer");i?E.openDrawer():a()},a=()=>{const e=document.getElementById("ur-navigation-drawer"),i=document.getElementById("locale-filter-button");e&&e.closeDrawer(),i&&i.resetSelected(!1)};return D`
        <div class="example-placement" style="position: relative; overflow: hidden; height: 95vh;">
            <ur-navigation-drawer
                id="ur-navigation-drawer"
                placement=${n}
                modal
                close-on-esc=${r}
                close-on-overlay-click=${h}
                contained=${d}
                open=${l}
                @closed=${a}
            >
                <ur-locale-filter-panel
                    id="ur-locale-filter-panel"
                    .locales=${g}
                    show-header="true"
                    show-footer="true"
                    @save=${e=>{const i=e.detail;console.info("Saving languages:",i),g=g.map(f=>({...f,checked:i.includes(f.key)}));const E=g.filter(f=>f.checked).map(f=>f.key);console.info("Applied languages:",E);const L=document.getElementById("ur-navigation-drawer");L&&L.closeDrawer(),u(),console.info("Filter button count updated")}}
                    @cancel=${()=>{const e=document.getElementById("ur-navigation-drawer");e&&e.closeDrawer()}}
                ></ur-locale-filter-panel>
            </ur-navigation-drawer>

            <div style="height: 100%; display: flex; align-items: left; justify-content: start;">
                <ur-locale-filter-button
                    id="locale-filter-button"
                    count=${g.filter(e=>e.checked).length}
                    @stateChanged=${p}
                ></ur-locale-filter-button>
            </div>
        </div>
    `},Ae={title:"urnovl/Business/Navigation Drawer w/ Locale Filter Panel",render:l=>re(l),argTypes:{open:{control:"boolean"},placement:{control:"select",options:["left","right"]},closeOnEsc:{control:"boolean"},closeOnOverlayClick:{control:"boolean"},contained:{control:"boolean"}}},k={args:{open:!1,placement:"right",closeOnEsc:!0,closeOnOverlayClick:!0,contained:!0}};var z,N,A;k.parameters={...k.parameters,docs:{...(z=k.parameters)==null?void 0:z.docs,source:{originalSource:`{
  args: {
    open: false,
    placement: 'right',
    closeOnEsc: true,
    closeOnOverlayClick: true,
    contained: true
  }
}`,...(A=(N=k.parameters)==null?void 0:N.docs)==null?void 0:A.source}}};const Ie=["Default"];export{k as Default,Ie as __namedExportsOrder,Ae as default};
